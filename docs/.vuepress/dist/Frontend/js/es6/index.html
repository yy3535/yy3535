<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES6 | yy3535</title>
    <meta name="description" content="yy3535的笔记">
    <link rel="icon" href="/img/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.9cd8b68b.css" as="style"><link rel="preload" href="/assets/js/app.b4c3ed2d.js" as="script"><link rel="preload" href="/assets/js/18.bf42e511.js" as="script"><link rel="prefetch" href="/assets/js/10.e3b15757.js"><link rel="prefetch" href="/assets/js/11.53b29fbc.js"><link rel="prefetch" href="/assets/js/12.b2d04766.js"><link rel="prefetch" href="/assets/js/13.66c9e4d5.js"><link rel="prefetch" href="/assets/js/14.12e0caf2.js"><link rel="prefetch" href="/assets/js/15.81a43167.js"><link rel="prefetch" href="/assets/js/16.af463747.js"><link rel="prefetch" href="/assets/js/17.1138c375.js"><link rel="prefetch" href="/assets/js/19.ed9b83ea.js"><link rel="prefetch" href="/assets/js/2.7fcb67f0.js"><link rel="prefetch" href="/assets/js/20.ac80940f.js"><link rel="prefetch" href="/assets/js/21.22dcda2d.js"><link rel="prefetch" href="/assets/js/22.4e8ec6df.js"><link rel="prefetch" href="/assets/js/23.79e7188f.js"><link rel="prefetch" href="/assets/js/24.2d8a5d91.js"><link rel="prefetch" href="/assets/js/25.eb1a1d57.js"><link rel="prefetch" href="/assets/js/26.03857af4.js"><link rel="prefetch" href="/assets/js/27.31070181.js"><link rel="prefetch" href="/assets/js/28.0a3998a9.js"><link rel="prefetch" href="/assets/js/29.90c35390.js"><link rel="prefetch" href="/assets/js/3.65cfa47c.js"><link rel="prefetch" href="/assets/js/30.72159b9b.js"><link rel="prefetch" href="/assets/js/31.dfbdf92d.js"><link rel="prefetch" href="/assets/js/32.b737d6ed.js"><link rel="prefetch" href="/assets/js/33.ff930308.js"><link rel="prefetch" href="/assets/js/34.75e9c83c.js"><link rel="prefetch" href="/assets/js/35.5e6cc63a.js"><link rel="prefetch" href="/assets/js/36.5ea3eef3.js"><link rel="prefetch" href="/assets/js/37.0eccaa42.js"><link rel="prefetch" href="/assets/js/4.2850ac08.js"><link rel="prefetch" href="/assets/js/5.e509cd3c.js"><link rel="prefetch" href="/assets/js/6.ab25f6f0.js"><link rel="prefetch" href="/assets/js/7.8bf4cf64.js"><link rel="prefetch" href="/assets/js/8.db0f9086.js"><link rel="prefetch" href="/assets/js/9.b72a5e81.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9cd8b68b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.jpg" alt="yy3535" class="logo"> <span class="site-name can-hide">yy3535</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Frontend/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/Backend/" class="nav-link">后端</a></div><div class="nav-item"><a href="/Operation/" class="nav-link">运维</a></div><div class="nav-item"><a href="https://github.com/yy3535/yy3535" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Frontend/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/Backend/" class="nav-link">后端</a></div><div class="nav-item"><a href="/Operation/" class="nav-link">运维</a></div><div class="nav-item"><a href="https://github.com/yy3535/yy3535" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>js</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Frontend/js/jsbasic/" class="sidebar-link">01-JS基础知识</a></li><li><a href="/Frontend/js/jsbasic/zepto.html" class="sidebar-link">zepto源码解读</a></li><li><a href="/Frontend/js/jsbasic/shenrubibao.html" class="sidebar-link">深入理解javascript原型链和闭包</a></li><li><a href="/Frontend/js/jswebapi/" class="sidebar-link">02-JS-WEB-API</a></li><li><a href="/Frontend/js/devenv/" class="sidebar-link">03-开发环境</a></li><li><a href="/Frontend/js/runenv/" class="sidebar-link">04-运行环境</a></li><li><a href="/Frontend/js/es6/" class="active sidebar-link">ES6</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#let和const" class="sidebar-link">let和const</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#let" class="sidebar-link">let</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#块级作用域" class="sidebar-link">块级作用域</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#const" class="sidebar-link">const</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#es6声明变量的六种方法" class="sidebar-link">ES6声明变量的六种方法</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#顶层对象的属性" class="sidebar-link">顶层对象的属性</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#globalthis对象" class="sidebar-link">globalThis对象</a></li></ul></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#解构赋值-deconstruction" class="sidebar-link">解构赋值(deconstruction)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#定义" class="sidebar-link">定义</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#规则" class="sidebar-link">规则</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#本质" class="sidebar-link">本质</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#默认值" class="sidebar-link">默认值</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#对象的解构赋值" class="sidebar-link">对象的解构赋值</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#注意点" class="sidebar-link">注意点</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#字符串的解构赋值" class="sidebar-link">字符串的解构赋值</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#数值和布尔值的解构赋值" class="sidebar-link">数值和布尔值的解构赋值</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#函数参数的解构赋值" class="sidebar-link">函数参数的解构赋值</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#圆括号问题" class="sidebar-link">圆括号问题</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#用途" class="sidebar-link">用途</a></li></ul></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#字符串的扩展" class="sidebar-link">字符串的扩展</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#字符的-unicode-表示法" class="sidebar-link">字符的 Unicode 表示法</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#直接输入u-2028和u-2029" class="sidebar-link">直接输入U+2028和U+2029</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#json-stringify-的改造" class="sidebar-link">JSON.stringify() 的改造</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#模板字符串" class="sidebar-link">模板字符串</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#标签模板" class="sidebar-link">标签模板</a></li></ul></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#字符串的新增方法" class="sidebar-link">字符串的新增方法</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#正则的扩展" class="sidebar-link">正则的扩展</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#扩展运算符…" class="sidebar-link">扩展运算符…</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#用于对象的展开-es7" class="sidebar-link">用于对象的展开(es7)</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#用于数组的展开" class="sidebar-link">用于数组的展开</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#用于剩余运算符" class="sidebar-link">用于剩余运算符</a></li></ul></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#class类" class="sidebar-link">class类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#es5中的类" class="sidebar-link">es5中的类</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#es6中的类" class="sidebar-link">es6中的类</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#用es5实现es6class类" class="sidebar-link">用es5实现es6Class类</a></li></ul></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#装饰器" class="sidebar-link">装饰器</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#symbol" class="sidebar-link">Symbol</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#map-set-集合" class="sidebar-link">map set 集合</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#set" class="sidebar-link">set</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#map" class="sidebar-link">map</a></li></ul></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#其他语法" class="sidebar-link">其他语法</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#第三方模块" class="sidebar-link">第三方模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#babel" class="sidebar-link">babel</a></li><li class="sidebar-sub-header"><a href="/Frontend/js/es6/#moment" class="sidebar-link">moment</a></li></ul></li></ul></li><li><a href="/Frontend/js/designpatterns/" class="sidebar-link">前端设计模式</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>css</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Frontend/css.html" class="sidebar-link">css</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>vue</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Frontend/vue.html" class="sidebar-link">vue</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>webpack</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Frontend/webpack.html" class="sidebar-link">webpack</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>前端跳槽面试必备技巧</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Frontend/viewskills.html" class="sidebar-link">前端跳槽面试必备技巧</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>JS数据结构与算法</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Frontend/algorithm.html" class="sidebar-link">前端算法</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>小工具</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Frontend/vuepress.html" class="sidebar-link">vuepress</a></li><li><a href="/Frontend/markdown.html" class="sidebar-link">markdown</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>自动化测试</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Frontend/automatedTest.html" class="sidebar-link">js单元测试的一门语言Jest</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>其他</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Frontend/other.html" class="sidebar-link">其他</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="es6"><a href="#es6" aria-hidden="true" class="header-anchor">#</a> ES6</h1> <p></p><div class="table-of-contents"><ul><li><a href="#let和const">let和const</a><ul><li><a href="#let">let</a></li><li><a href="#块级作用域">块级作用域</a></li><li><a href="#const">const</a></li><li><a href="#es6声明变量的六种方法">ES6声明变量的六种方法</a></li><li><a href="#顶层对象的属性">顶层对象的属性</a></li><li><a href="#globalthis对象">globalThis对象</a></li></ul></li><li><a href="#解构赋值-deconstruction">解构赋值(deconstruction)</a><ul><li><a href="#定义">定义</a></li><li><a href="#规则">规则</a></li><li><a href="#本质">本质</a></li><li><a href="#默认值">默认值</a></li><li><a href="#对象的解构赋值">对象的解构赋值</a></li><li><a href="#注意点">注意点</a></li><li><a href="#字符串的解构赋值">字符串的解构赋值</a></li><li><a href="#数值和布尔值的解构赋值">数值和布尔值的解构赋值</a></li><li><a href="#函数参数的解构赋值">函数参数的解构赋值</a></li><li><a href="#圆括号问题">圆括号问题</a></li><li><a href="#用途">用途</a></li></ul></li><li><a href="#字符串的扩展">字符串的扩展</a><ul><li><a href="#字符的-unicode-表示法">字符的 Unicode 表示法</a></li><li><a href="#直接输入u-2028和u-2029">直接输入U+2028和U+2029</a></li><li><a href="#json-stringify-的改造">JSON.stringify() 的改造</a></li><li><a href="#模板字符串">模板字符串</a></li><li><a href="#标签模板">标签模板</a></li></ul></li><li><a href="#字符串的新增方法">字符串的新增方法</a></li><li><a href="#正则的扩展">正则的扩展</a></li><li><a href="#扩展运算符-…">扩展运算符…</a><ul><li><a href="#用于对象的展开-es7">用于对象的展开(es7)</a></li><li><a href="#用于数组的展开">用于数组的展开</a></li><li><a href="#用于剩余运算符">用于剩余运算符</a></li></ul></li><li><a href="#class类">class类</a><ul><li><a href="#es5中的类">es5中的类</a></li><li><a href="#es6中的类">es6中的类</a></li><li><a href="#用es5实现es6class类">用es5实现es6Class类</a></li></ul></li><li><a href="#装饰器">装饰器</a></li><li><a href="#symbol">Symbol</a></li><li><a href="#map-set-集合">map set 集合</a><ul><li><a href="#set">set</a></li><li><a href="#map">map</a></li></ul></li><li><a href="#其他语法">其他语法</a></li><li><a href="#第三方模块">第三方模块</a><ul><li><a href="#babel">babel</a></li><li><a href="#moment">moment</a></li></ul></li></ul></div><p></p> <h2 id="let和const"><a href="#let和const" aria-hidden="true" class="header-anchor">#</a> let和const</h2> <h3 id="let"><a href="#let" aria-hidden="true" class="header-anchor">#</a> let</h3> <ul><li>有作用域(声明的变量，只在let命令所在的代码块内有效。)</li> <li>不存在变量提升</li> <li>暂时性死区(TDZ)
<ul><li>只要块级作用域内存在let命令，它所声明的变量就“绑定”（binding）这个区域，不再受外部的影响。凡是在声明之前就使用这些变量，就会报错。</li></ul> <div class="language-JS extra-class"><pre class="language-js"><code><span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  tmp <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError</span>
  <span class="token keyword">let</span> tmp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>不允许重复声明</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 报错</span>
<span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="块级作用域"><a href="#块级作用域" aria-hidden="true" class="header-anchor">#</a> 块级作用域</h3> <ul><li>为什么需要块级作用域？
<ul><li>内层变量可能会覆盖外层变量。</li> <li>用来计数的循环变量泄露为全局变量。</li></ul></li> <li>ES6块级作用域
<ul><li>let为 JavaScript 新增了块级作用域</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>块级作用域的出现，实际上使得获得广泛应用的立即执行函数表达式（IIFE）不再必要了。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// IIFE 写法</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token operator">...</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 块级作用域写法</span>
<span class="token punctuation">{</span>
  <span class="token keyword">let</span> tmp <span class="token operator">=</span> <span class="token operator">...</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>S5 规定，函数只能在顶层作用域和函数作用域之中声明，不能在块级作用域声明。ES6允许在块级作用域之中声明函数。ES6 规定，块级作用域之中，函数声明语句的行为类似于let，在块级作用域之外不可引用。</li></ul></li></ul> <h3 id="const"><a href="#const" aria-hidden="true" class="header-anchor">#</a> const</h3> <ul><li>声明一个只读的常量。一旦声明，常量的值就不能改变。</li> <li>一旦声明变量，就必须立即初始化，不能留到以后赋值。</li> <li>只能保证变量指向的那个内存地址所保存的数据不得改动，对于复合类型的数据（主要是对象和数组），指向的数据结构不能保证不可变</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 可执行</span>
a<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment">// 可执行</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Dave'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// 报错</span>
</code></pre></div><ul><li>冻结对象：<code>Object.freeze</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 常规模式时，下面一行不起作用；</span>
<span class="token comment">// 严格模式时，该行会报错</span>
foo<span class="token punctuation">.</span>prop <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
</code></pre></div><p>彻底冻结对象：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">constantize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
  Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">constantize</span><span class="token punctuation">(</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>用处(模块引用等不需要更改的地方)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fs<span class="token operator">=</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fs<span class="token punctuation">.</span>xxx
</code></pre></div><h3 id="es6声明变量的六种方法"><a href="#es6声明变量的六种方法" aria-hidden="true" class="header-anchor">#</a> ES6声明变量的六种方法</h3> <ul><li>ES5:var,function</li> <li>ES6添加四种：let,const,import,class</li></ul> <h3 id="顶层对象的属性"><a href="#顶层对象的属性" aria-hidden="true" class="header-anchor">#</a> 顶层对象的属性</h3> <ul><li>顶层对象
<ul><li>浏览器环境：window对象</li> <li>Node：global对象</li> <li>ES5 之中，顶层对象的属性与全局变量是等价的。
<ul><li>问题
<ul><li>没法在编译时就报出变量未声明的错误，只有运行时才能知道</li> <li>程序员很容易不知不觉地就创建了全局变量（比如打字出错）</li> <li>window对象有实体含义，指的是浏览器的窗口对象，顶层对象是一个有实体含义的对象，也是不合适的。</li></ul></li></ul></li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
a <span class="token comment">// 1</span>

a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>a <span class="token comment">// 2</span>
</code></pre></div><ul><li>ES6 开始，全局变量将逐步与顶层对象的属性脱钩。</li> <li>为了保持兼容性,var命令和function命令声明的全局变量，依旧是顶层对象的属性；</li> <li>let命令、const命令、class命令声明的全局变量，不属于顶层对象的属性。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">// 如果在 Node 的 REPL 环境，可以写成 global.a</span>
<span class="token comment">// 或者采用通用方法，写成 this.a</span>
window<span class="token punctuation">.</span>a <span class="token comment">// 1</span>

<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>b <span class="token comment">// undefined</span>
</code></pre></div><h3 id="globalthis对象"><a href="#globalthis对象" aria-hidden="true" class="header-anchor">#</a> globalThis对象</h3> <ul><li>顶层对象（提供全局作用域）
<ul><li>浏览器里面，顶层对象是window，但 Node 和 Web Worker 没有window。</li> <li>浏览器和 Web Worker 里面，self也指向顶层对象，但是 Node 没有self。</li> <li>Node 里面，顶层对象是global，但其他环境都不支持。</li></ul></li> <li>为了能够在各种环境，都能取到顶层对象，一般使用this变量
<ul><li>局限性
<ul><li>全局环境中，this会返回顶层对象。但是，Node 模块和 ES6 模块中，this返回的是当前模块。</li> <li>函数里面的this，如果函数不是作为对象的方法运行，而是单纯作为函数运行，this会指向顶层对象。但是，严格模式下，这时this会返回undefined。</li> <li>不管是严格模式，还是普通模式，new Function('return this')()，总是会返回全局对象。但是，如果浏览器用了 CSP（Content Security Policy，内容安全策略），那么eval、new Function这些方法都可能无法使用。</li></ul></li> <li>解决</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 方法一</span>
<span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">'undefined'</span>
  <span class="token operator">?</span> window
  <span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> process <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span>
      <span class="token keyword">typeof</span> require <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">&amp;&amp;</span>
      <span class="token keyword">typeof</span> global <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span>
    <span class="token operator">?</span> global
    <span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 方法二</span>
<span class="token keyword">var</span> <span class="token function-variable function">getGlobal</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> self <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> self<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> window<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> global <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> global<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'unable to locate global object'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>提案
<ul><li>引入globalThis作为顶层对象（任何环境下，globalThis都是存在的，都可以从它拿到顶层对象，指向全局环境下的this。）</li></ul></li></ul></li></ul> <h2 id="解构赋值-deconstruction"><a href="#解构赋值-deconstruction" aria-hidden="true" class="header-anchor">#</a> 解构赋值(deconstruction)</h2> <h3 id="定义"><a href="#定义" aria-hidden="true" class="header-anchor">#</a> 定义</h3> <ul><li>按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构（Destructuring）。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>foo<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>bar<span class="token punctuation">]</span><span class="token punctuation">,</span> baz<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 解构不成功，变量的值就等于undefined</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>bar<span class="token punctuation">,</span> foo<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 不完全解构(等号左边的模式，只匹配一部分的等号右边的数组)，解构依然可以成功。</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> <span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">,</span> d<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
a <span class="token comment">// 1</span>
b <span class="token comment">// 2</span>
d <span class="token comment">// 4</span>
<span class="token comment">// 只要某种数据结构具有 Iterator 接口，都可以采用数组形式的解构赋值。否则会报错。</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>foo<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">// Set和Generator都可以，因为有Iterator接口</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
x <span class="token comment">// &quot;a&quot;</span>
</code></pre></div><h3 id="规则"><a href="#规则" aria-hidden="true" class="header-anchor">#</a> 规则</h3> <ul><li>只要等号右边的值不是对象或数组，就先将其转为对象。</li></ul> <h3 id="本质"><a href="#本质" aria-hidden="true" class="header-anchor">#</a> 本质</h3> <ul><li>属于“模式匹配”，只要等号两边的模式相同，左边的变量就会被赋予对应的值。</li></ul> <h3 id="默认值"><a href="#默认值" aria-hidden="true" class="header-anchor">#</a> 默认值</h3> <ul><li>解构赋值允许指定默认值。</li> <li>只有当一个数组成员严格等于undefined，默认值才会生效。</li> <li>如果默认值是一个表达式，那么这个表达式是惰性求值的，即只有在用到的时候，才会求值。</li> <li>默认值可以引用解构赋值的其他变量，但该变量必须已经声明。<div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>foo <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
foo <span class="token comment">// true</span>

<span class="token keyword">let</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token string">'b'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// x='a', y='b'</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token string">'b'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// x='a', y='b'</span>

<span class="token keyword">let</span> <span class="token punctuation">[</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>     <span class="token comment">// x=1; y=1</span>
</code></pre></div></li></ul> <h3 id="对象的解构赋值"><a href="#对象的解构赋值" aria-hidden="true" class="header-anchor">#</a> 对象的解构赋值</h3> <ul><li>数组的取值由它的位置决定；而对象属性变量必须与属性同名，才能取到正确的值。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> foo<span class="token punctuation">,</span> bar <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">'aaa'</span><span class="token punctuation">,</span> bar<span class="token punctuation">:</span> <span class="token string">'bbb'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>内部机制是先找到同名属性，然后再赋给对应的变量。真正被赋值的是后者，而不是前者。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> baz <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">'aaa'</span><span class="token punctuation">,</span> bar<span class="token punctuation">:</span> <span class="token string">'bbb'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
baz <span class="token comment">// &quot;aaa&quot;</span>
foo <span class="token comment">// error: foo is not defined</span>
</code></pre></div><h3 id="注意点"><a href="#注意点" aria-hidden="true" class="header-anchor">#</a> 注意点</h3> <ul><li>大括号不要在行首，否则会解释为代码块，需要加上小括号解决</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> x<span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>可以对数组进行对象属性的解构(数组本质是特殊的对象)</li></ul> <h3 id="字符串的解构赋值"><a href="#字符串的解构赋值" aria-hidden="true" class="header-anchor">#</a> 字符串的解构赋值</h3> <ul><li>字符串被转换成了一个类似数组的对象。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> e<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>
a <span class="token comment">// &quot;h&quot;</span>
b <span class="token comment">// &quot;e&quot;</span>
c <span class="token comment">// &quot;l&quot;</span>
d <span class="token comment">// &quot;l&quot;</span>
e <span class="token comment">// &quot;o&quot;</span>
</code></pre></div><ul><li>类似数组的对象都有一个length属性</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span>length <span class="token punctuation">:</span> len<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>
len <span class="token comment">// 5</span>
</code></pre></div><h3 id="数值和布尔值的解构赋值"><a href="#数值和布尔值的解构赋值" aria-hidden="true" class="header-anchor">#</a> 数值和布尔值的解构赋值</h3> <ul><li>数值和布尔值的包装对象都有toString属性，因此变量s都能取到值。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span>toString<span class="token punctuation">:</span> s<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
s <span class="token operator">===</span> <span class="token class-name">Number</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString <span class="token comment">// true</span>

<span class="token keyword">let</span> <span class="token punctuation">{</span>toString<span class="token punctuation">:</span> s<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
s <span class="token operator">===</span> <span class="token class-name">Boolean</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString <span class="token comment">// true</span>
</code></pre></div><ul><li>undefined和null无法转为对象，所以对它们进行解构赋值</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> prop<span class="token punctuation">:</span> x <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// TypeError</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> prop<span class="token punctuation">:</span> y <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// TypeError</span>
</code></pre></div><h3 id="函数参数的解构赋值"><a href="#函数参数的解构赋值" aria-hidden="true" class="header-anchor">#</a> 函数参数的解构赋值</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>

<span class="token keyword">function</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, 8]</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, 0]</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [0, 0]</span>
<span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [0, 0]</span>
</code></pre></div><h3 id="圆括号问题"><a href="#圆括号问题" aria-hidden="true" class="header-anchor">#</a> 圆括号问题</h3> <ul><li>变量声明语句，不能使用圆括号。</li> <li>函数参数也属于变量声明，不能带有圆括号。</li> <li>赋值语句，模式部分不能放在圆括号中。</li> <li>赋值语句的非模式部分，可以使用圆括号</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token punctuation">{</span> p<span class="token punctuation">:</span> a <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span> p<span class="token punctuation">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// 报错</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 正确</span>
</code></pre></div><h3 id="用途"><a href="#用途" aria-hidden="true" class="header-anchor">#</a> 用途</h3> <ul><li>交换变量的值</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>y<span class="token punctuation">,</span> x<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>从函数返回多个值</li> <li>函数参数的定义</li> <li>提取 JSON 数据</li> <li>函数参数的默认值</li> <li>遍历 Map 结构</li> <li>输入模块的指定方法</li></ul> <h2 id="字符串的扩展"><a href="#字符串的扩展" aria-hidden="true" class="header-anchor">#</a> 字符串的扩展</h2> <h3 id="字符的-unicode-表示法"><a href="#字符的-unicode-表示法" aria-hidden="true" class="header-anchor">#</a> 字符的 Unicode 表示法</h3> <ul><li>现在共有 6 种方法可以表示一个字符。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'\z'</span> <span class="token operator">===</span> <span class="token string">'z'</span>  <span class="token comment">// true</span>
<span class="token string">'\172'</span> <span class="token operator">===</span> <span class="token string">'z'</span> <span class="token comment">// true</span>
<span class="token string">'\x7A'</span> <span class="token operator">===</span> <span class="token string">'z'</span> <span class="token comment">// true</span>
<span class="token string">'\u007A'</span> <span class="token operator">===</span> <span class="token string">'z'</span> <span class="token comment">// true</span>
<span class="token string">'\u{7A}'</span> <span class="token operator">===</span> <span class="token string">'z'</span> <span class="token comment">// true</span>
</code></pre></div><ul><li>字符串的遍历器接口
<ul><li>最大的优点是可以识别大于0xFFFF的码点，传统的for循环无法识别这样的码点。</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 字符串可以被for...of循环遍历。</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> codePoint <span class="token keyword">of</span> <span class="token string">'foo'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>codePoint<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// &quot;f&quot;</span>
<span class="token comment">// &quot;o&quot;</span>
<span class="token comment">// &quot;o&quot;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> text <span class="token operator">=</span> String<span class="token punctuation">.</span><span class="token function">fromCodePoint</span><span class="token punctuation">(</span><span class="token number">0x20BB7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> text<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// &quot; &quot;</span>
<span class="token comment">// &quot; &quot;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">of</span> text<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// &quot;𠮷&quot;</span>
</code></pre></div><h3 id="直接输入u-2028和u-2029"><a href="#直接输入u-2028和u-2029" aria-hidden="true" class="header-anchor">#</a> 直接输入U+2028和U+2029</h3> <ul><li>JavaScript 规定有5个字符，不能在字符串里面直接使用，只能使用转义形式。
<ul><li>U+005C：反斜杠（reverse solidus)</li> <li>U+000D：回车（carriage return）</li> <li>U+2028：行分隔符（line separator）</li> <li>U+2029：段分隔符（paragraph separator）</li> <li>U+000A：换行符（line feed）
JSON 格式允许字符串里面直接使用 U+2028（行分隔符）和 U+2029（段分隔符）。这样一来，服务器输出的 JSON 被JSON.parse解析，就有可能直接报错。</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> json <span class="token operator">=</span> <span class="token string">'&quot;\u2028&quot;'</span><span class="token punctuation">;</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 可能报错</span>
</code></pre></div><p>JSON 格式已经冻结（RFC 7159），没法修改了。为了消除这个报错，ES2019 允许 JavaScript 字符串直接输入 U+2028（行分隔符）和 U+2029（段分隔符）。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">PS</span> <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;'\u2029'&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="json-stringify-的改造"><a href="#json-stringify-的改造" aria-hidden="true" class="header-anchor">#</a> JSON.stringify() 的改造</h3> <ul><li>根据标准，JSON 数据必须是 UTF-8 编码。但是，现在的JSON.stringify()方法有可能返回不符合 UTF-8 标准的字符串。</li> <li>为了确保返回的是合法的 UTF-8 字符，ES2019 改变了JSON.stringify()的行为。如果遇到0xD800到0xDFFF之间的单个码点，或者不存在的配对形式，它会返回转义字符串，留给应用自己决定下一步的处理。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">'\u{D834}'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;&quot;\\uD834&quot;&quot;</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">'\uDF06\uD834'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;&quot;\\udf06\\ud834&quot;&quot;</span>
</code></pre></div><h3 id="模板字符串"><a href="#模板字符串" aria-hidden="true" class="header-anchor">#</a> 模板字符串</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#result'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`
  There are &lt;b&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>basket<span class="token punctuation">.</span>count<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/b&gt; items
   in your basket, &lt;em&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>basket<span class="token punctuation">.</span>onSale<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/em&gt;
  are on sale!
`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
`
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
</code></pre></div><ul><li>用`（反引号）标识，用${}将变量括起来。支持换行</li> <li>所有的空格,缩进和换行都会被保留</li> <li>可以放入任意的JavaScript表达式，可以进行运算</li> <li>可以调用函数</li> <li>需要使用反引号，则前面要用反斜杠转义。</li> <li>嵌套使用</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">tmpl</span> <span class="token operator">=</span> <span class="token parameter">addrs</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token string">`
  &lt;table&gt;
  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>addrs<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">addr</span> <span class="token operator">=&gt;</span> `
    <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span><span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>$<span class="token punctuation">{</span>addr<span class="token punctuation">.</span>first<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>addr<span class="token punctuation">.</span>last<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/td&gt;&lt;/tr&gt;
  `</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span>
`<span class="token punctuation">;</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> first<span class="token punctuation">:</span> <span class="token string">'&lt;Jane&gt;'</span><span class="token punctuation">,</span> last<span class="token punctuation">:</span> <span class="token string">'Bond'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> first<span class="token punctuation">:</span> <span class="token string">'Lars'</span><span class="token punctuation">,</span> last<span class="token punctuation">:</span> <span class="token string">'&lt;Croft&gt;'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">tmpl</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>引用模板字符串本身，在需要时执行，可以写成函数。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">func</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token string">`Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!`</span></span><span class="token punctuation">;</span>
<span class="token function">func</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;Hello Jack!&quot;</span>
</code></pre></div><h3 id="标签模板"><a href="#标签模板" aria-hidden="true" class="header-anchor">#</a> 标签模板</h3> <ul><li>定义
<ul><li>紧跟在一个函数名后面，该函数将被调用来处理这个模板字符串。</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 无参数</span>
alert<span class="token template-string"><span class="token string">`123`</span></span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
<span class="token comment">// 有参数</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
tag<span class="token template-string"><span class="token string">`Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> a <span class="token operator">+</span> b <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> world </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> a <span class="token operator">*</span> b <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
<span class="token comment">// 等同于</span>
<span class="token comment">// 第一个参数是一个数组(是模板字符串中那些没有变量替换的部分)（包括一个自带的raw属性，保存了转译后的原第一个参数的数组['Hello ', ' world ', '']）</span>
<span class="token comment">// 其他参数是模板字符串各个变量被替换后的值</span>
<span class="token function">tag</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Hello '</span><span class="token punctuation">,</span> <span class="token string">' world '</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>应用
<ul><li>过滤 HTML 字符串，防止用户输入恶意内容。</li> <li>多语言转换（国际化处理）</li> <li>通过标签函数，代替Mustache 之类的模板库（添加条件判断和循环处理功能）</li> <li>调用其他语言的函数，在 JavaScript 语言之中嵌入其他语言。</li></ul></li></ul> <h2 id="字符串的新增方法"><a href="#字符串的新增方法" aria-hidden="true" class="header-anchor">#</a> 字符串的新增方法</h2> <ul><li>见api</li></ul> <h2 id="正则的扩展"><a href="#正则的扩展" aria-hidden="true" class="header-anchor">#</a> 正则的扩展</h2> <ul><li>见正则基础</li></ul> <h2 id="扩展运算符…"><a href="#扩展运算符…" aria-hidden="true" class="header-anchor">#</a> 扩展运算符<code>…</code></h2> <ul><li><code>...</code>的作用就是删掉外面的{}</li></ul> <h3 id="用于对象的展开-es7"><a href="#用于对象的展开-es7" aria-hidden="true" class="header-anchor">#</a> 用于对象的展开(es7)</h3> <ul><li>拷贝对象(另辟一个空间)<div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'zfpx'</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> school<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">...</span>obj<span class="token punctuation">}</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">深拷贝与浅拷贝</p> <ul><li>浅拷贝(对象的对象引用地址还是同一个)
<ul><li>扩展运算符<code>...</code></li> <li>Object.assign</li></ul></li> <li>深拷贝
<ul><li>$.extend</li> <li>实现深拷贝(通过递归)<div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj<span class="token operator">=</span><span class="token punctuation">{</span>a<span class="token punctuation">:</span>b<span class="token punctuation">:</span><span class="token punctuation">{</span>abc<span class="token punctuation">:</span>abc<span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token operator">===</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj<span class="token operator">!=</span><span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">RegExp</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> newObj<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">obj<span class="token punctuation">.</span>constructor</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">{</span>
    newObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> newObj
<span class="token punctuation">}</span>
<span class="token keyword">let</span> newReg<span class="token operator">=</span><span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newReg<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li></ul></div></li> <li>合并对象<div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> school<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">...</span>obj<span class="token punctuation">,</span><span class="token operator">...</span>obj1<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="用于数组的展开"><a href="#用于数组的展开" aria-hidden="true" class="header-anchor">#</a> 用于数组的展开</h3> <ul><li>[...arr1,...arr2]
<ul><li>原理：concat(arr1,arr2)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 以前展开数组方法？</span>
Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>Math<span class="token punctuation">,</span>arr<span class="token punctuation">)</span>
<span class="token comment">// 现在展开数组方法</span>
Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span>
</code></pre></div></li></ul> <h3 id="用于剩余运算符"><a href="#用于剩余运算符" aria-hidden="true" class="header-anchor">#</a> 用于剩余运算符</h3> <ul><li>只能放在函数的最后一个参数，如sum(b,…arg)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 使用剩余运算符作为参数接收(只能放在最后一项)</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>arg</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// 类数组可迭代，所以可以用这个运算符转数组</span>
  <span class="token keyword">return</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'+'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> r<span class="token operator">=</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>
</code></pre></div><h2 id="class类"><a href="#class类" aria-hidden="true" class="header-anchor">#</a> class类</h2> <h3 id="es5中的类"><a href="#es5中的类" aria-hidden="true" class="header-anchor">#</a> es5中的类</h3> <ul><li>原生的构造函数</li> <li>类必须要大写</li> <li>es5中可以当做函数来调用，es6中类只能new</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>type<span class="token operator">=</span>type<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Animal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'eat'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 继承的三种方法</span>
<span class="token comment">// 1.继承实例上的属性</span>
<span class="token keyword">function</span> <span class="token function">Cat</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">Animal</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>type<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 2.获取父类的公共属性</span>
<span class="token operator">-</span> node刚出来的时候
es5<span class="token punctuation">:</span><span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__<span class="token operator">=</span><span class="token class-name">Animal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
<span class="token operator">-</span> node6<span class="token punctuation">.</span><span class="token number">0</span>的时候
es5<span class="token punctuation">:</span><span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype<span class="token operator">=</span>Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Animal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span><span class="token punctuation">{</span>constructor<span class="token punctuation">:</span><span class="token punctuation">{</span>value<span class="token punctuation">:</span>Cat<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">-</span> es6出来以后
es6<span class="token punctuation">:</span>Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span><span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span><span class="token class-name">Animal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> cat<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token string">'哺乳类'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat<span class="token punctuation">.</span>eat<span class="token punctuation">)</span>
<span class="token comment">// 3.继承父类实例上的所有属性：因为初始化子类不能给父类传参，所以没人用，一般用1+2</span>
<span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> cat<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token string">'哺乳类'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="es6中的类"><a href="#es6中的类" aria-hidden="true" class="header-anchor">#</a> es6中的类</h3> <ul><li>只能new</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>type<span class="token operator">=</span>type<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//添加公共属性</span>
  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//继承原型和公共方法，extends里面内置了call，也实现了继承共有属性</span>
Class Cat <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
  <span class="token comment">//静态方法，子类可继承</span>
  <span class="token keyword">static</span> <span class="token function">flag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">'好玩'</span>
  <span class="token punctuation">}</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//继承必须写这句，相当于Animal.call(this.type);</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token class-name">Animal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>eat<span class="token operator">=</span><span class="token operator">...</span><span class="token comment">//不需要用这种方法，直接在类里添加即可</span>
<span class="token function">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//出错 构造函数Animal只能通过new来调用</span>
<span class="token keyword">let</span> animal<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">'哺乳类'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> cat<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token string">'哺乳类'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="用es5实现es6class类"><a href="#用es5实现es6class类" aria-hidden="true" class="header-anchor">#</a> 用es5实现es6Class类</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">_classCallCheck</span><span class="token punctuation">(</span><span class="token parameter">sub<span class="token punctuation">,</span>constr</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>sub <span class="token keyword">instanceof</span> <span class="token class-name">constr</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Cannot with new '</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token function-variable function">Animal</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">_classCallCheck</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>Animal<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//判断如果不是通过new返回错误</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>type<span class="token operator">=</span>type<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">_createClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//用Object.defineProperty，因为通过es6类创建的方法是不可看到的</span>
  <span class="token keyword">return</span> Animal<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//...没看懂==！</span>
</code></pre></div><h2 id="装饰器"><a href="#装饰器" aria-hidden="true" class="header-anchor">#</a> 装饰器</h2> <ul><li>@符号表示是装饰器</li> <li>可以修饰类，类中的属性和方法</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">sweetCoffee</span><span class="token punctuation">(</span><span class="token parameter">coffee</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">coffee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'加糖'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">coffee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'一杯苦coffee'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">sweetCoffee</span><span class="token punctuation">(</span>coffee<span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>@testable
<span class="token keyword">class</span> <span class="token class-name">MyTestableClass</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">testable</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  target<span class="token punctuation">.</span>isTestable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
MyTestableClass<span class="token punctuation">.</span>isTestable <span class="token comment">// true</span>
</code></pre></div><h2 id="symbol"><a href="#symbol" aria-hidden="true" class="header-anchor">#</a> Symbol</h2> <ul><li>是第七种js数据类型(js的数据类型：<code>number</code> <code>string</code> <code>boolean</code> <code>null</code> <code>undefined</code> <code>object</code>)</li> <li>一般用作常量，每次拿到的都不一样</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//symbol</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">===</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token operator">===</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
<span class="token keyword">const</span> a1<span class="token operator">=</span>Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//声明一个Symbol</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//a ,取值</span>
</code></pre></div><h2 id="map-set-集合"><a href="#map-set-集合" aria-hidden="true" class="header-anchor">#</a> map set 集合</h2> <h3 id="set"><a href="#set" aria-hidden="true" class="header-anchor">#</a> set</h3> <ul><li>放的东西不能重复(数组可重复)，可以被迭代</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//数组去重</span>
<span class="token keyword">let</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">常见面试题</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//并集</span>
<span class="token keyword">let</span> arr1<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr2<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> s<span class="token operator">=</span><span class="token punctuation">[</span><span class="token operator">...</span>new <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>arr1<span class="token punctuation">,</span>arr2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//Symbol.iterator</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token comment">//1,2,3,4,5,6</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//交集</span>
<span class="token keyword">let</span> s1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> s2<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> r<span class="token operator">=</span><span class="token punctuation">[</span><span class="token operator">...</span>s1<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token comment">//如果返回true表示留下</span>
  <span class="token keyword">return</span> s2<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//差集</span>
<span class="token keyword">let</span> r<span class="token operator">=</span><span class="token punctuation">[</span><span class="token operator">...</span>s1<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token comment">//如果返回true表示留下</span>
  <span class="token keyword">return</span> <span class="token operator">!</span>s2<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <ul><li>Set的方法</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> s<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="map"><a href="#map" aria-hidden="true" class="header-anchor">#</a> map</h3> <ul><li>一样，不能放重复的数据</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> map<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'js'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'nodejs'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'js'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'js1'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//覆盖</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>key</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span>key<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="其他语法"><a href="#其他语法" aria-hidden="true" class="header-anchor">#</a> 其他语法</h2> <ul><li>Object.is(value1, value2);
<ul><li>参数
<ul><li>value1，第一个需要比较的值。</li> <li>value2，第二个需要比较的值。</li></ul></li> <li>返回值
<ul><li>表示两个参数是否相同的<code>布尔值</code> 。</li></ul></li></ul></li> <li>是不是非数
<ul><li>window.isNaN()
<ul><li>先把参数转化为数字类型,再判断是不是 NaN</li> <li>只要不是数字都满足</li></ul></li> <li>Number.isNaN()
<ul><li>先判断参数是不是数字类型,不是就返回 false, 是数字类型再进入判断是不是 NaN.</li> <li>只有数字中的NaN满足</li></ul></li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// false</span>
</code></pre></div><h2 id="第三方模块"><a href="#第三方模块" aria-hidden="true" class="header-anchor">#</a> 第三方模块</h2> <h3 id="babel"><a href="#babel" aria-hidden="true" class="header-anchor">#</a> babel</h3> <ul><li>转换es6成es5</li> <li>可在命令行中直接转换</li></ul> <ol><li>安装babel</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>npm install @babel<span class="token operator">/</span>cli @babel<span class="token operator">/</span>core<span class="token comment">//babel核心和babelcli</span>
npm add @babel<span class="token operator">/</span>preset<span class="token operator">-</span>env<span class="token comment">//babel插件1</span>
npm add @babel<span class="token operator">/</span>plugin<span class="token operator">-</span>proposal<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">-</span>properties<span class="token comment">//babel插件2</span>
npm add @babel<span class="token operator">/</span>plugin<span class="token operator">-</span>proposal<span class="token operator">-</span>decorators<span class="token comment">//babel插件3</span>
</code></pre></div><ol start="2"><li>新建一个.babelrc文件，运行时会按这个文件的方式来解析</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// .babelrc</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;presets&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span>
    <span class="token string">&quot;@babel/preset-env&quot;</span><span class="token comment">//这个插件告诉babel按es6到es5编译</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;plugins&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">&quot;@babel/plugin-proposal-class-properties&quot;</span><span class="token punctuation">,</span><span class="token comment">//这个插件用来转化类上的属性</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;loose&quot;</span><span class="token punctuation">:</span><span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>
      <span class="token string">&quot;@babel/plugin-proposal-decorators&quot;</span><span class="token punctuation">,</span><span class="token comment">//这个插件用来识别类装饰器</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;legacy&quot;</span><span class="token punctuation">:</span><span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>解析</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Circle</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token operator">=</span><span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token comment">//简写成如下写法</span>
  a<span class="token operator">=</span><span class="token number">1</span><span class="token comment">//高级写法，可用babel解析识别</span>
  <span class="token keyword">static</span> <span class="token constant">PI</span><span class="token operator">=</span><span class="token number">3.14</span><span class="token comment">//es6不支持静态属性，可用babel解析识别</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> c<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Circle</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>a<span class="token punctuation">)</span>
命令：babel <span class="token number">6.</span>class<span class="token punctuation">.</span>js <span class="token operator">-</span>o <span class="token keyword">new</span><span class="token punctuation">.</span>jss
</code></pre></div><h3 id="moment"><a href="#moment" aria-hidden="true" class="header-anchor">#</a> moment</h3> <ul><li>时间的插件(12345676543245 YYYY-MM-DD)
<ul><li>可以算相对时间 多语言</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>yarn add moment
<span class="token keyword">import</span> moment <span class="token keyword">from</span> <span class="token string">'moment'</span>
moment<span class="token punctuation">.</span><span class="token function">locale</span><span class="token punctuation">(</span><span class="token string">'zh-cn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fromNow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/Frontend/js/runenv/" class="prev">
          04-运行环境
        </a></span> <span class="next"><a href="/Frontend/js/designpatterns/">
          前端设计模式
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.b4c3ed2d.js" defer></script><script src="/assets/js/18.bf42e511.js" defer></script>
  </body>
</html>
