<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue | yy3535</title>
    <meta name="description" content="yy3535的笔记">
    <link rel="icon" href="/note/img/favicon.ico">
    
    <link rel="preload" href="/note/assets/css/0.styles.ded660a3.css" as="style"><link rel="preload" href="/note/assets/js/app.cb954e78.js" as="script"><link rel="preload" href="/note/assets/js/9.2b0eb318.js" as="script"><link rel="prefetch" href="/note/assets/js/10.cedcf815.js"><link rel="prefetch" href="/note/assets/js/11.ce9391ba.js"><link rel="prefetch" href="/note/assets/js/12.1ce1cd8b.js"><link rel="prefetch" href="/note/assets/js/13.e5d4e66c.js"><link rel="prefetch" href="/note/assets/js/14.29d8ca1a.js"><link rel="prefetch" href="/note/assets/js/15.6fa62126.js"><link rel="prefetch" href="/note/assets/js/16.4e673998.js"><link rel="prefetch" href="/note/assets/js/17.71789220.js"><link rel="prefetch" href="/note/assets/js/18.6cdc88d8.js"><link rel="prefetch" href="/note/assets/js/2.066c3c73.js"><link rel="prefetch" href="/note/assets/js/3.dfaf329e.js"><link rel="prefetch" href="/note/assets/js/4.62774784.js"><link rel="prefetch" href="/note/assets/js/5.f97428b8.js"><link rel="prefetch" href="/note/assets/js/6.5a6439cc.js"><link rel="prefetch" href="/note/assets/js/7.223e558f.js"><link rel="prefetch" href="/note/assets/js/8.a54b7032.js">
    <link rel="stylesheet" href="/note/assets/css/0.styles.ded660a3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note/" class="home-link router-link-active"><img src="/note/img/logo.jpg" alt="yy3535" class="logo"> <span class="site-name can-hide">yy3535</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note/Frontend/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/note/Backend/" class="nav-link">后端</a></div><div class="nav-item"><a href="/note/Operation/" class="nav-link">运维</a></div><div class="nav-item"><a href="/note/Todo/" class="nav-link">待整理</a></div><div class="nav-item"><a href="/note/Thought/" class="nav-link">随想</a></div><div class="nav-item"><a href="https://github.com/yy3535/yy3535" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/note/Frontend/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/note/Backend/" class="nav-link">后端</a></div><div class="nav-item"><a href="/note/Operation/" class="nav-link">运维</a></div><div class="nav-item"><a href="/note/Todo/" class="nav-link">待整理</a></div><div class="nav-item"><a href="/note/Thought/" class="nav-link">随想</a></div><div class="nav-item"><a href="https://github.com/yy3535/yy3535" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>前端</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/note/Frontend/js.html" class="sidebar-link">js</a></li><li><a href="/note/Frontend/vue.html" class="active sidebar-link">vue</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/Frontend/vue.html#start" class="sidebar-link">start</a></li><li class="sidebar-sub-header"><a href="/note/Frontend/vue.html#observer" class="sidebar-link">observer</a></li><li class="sidebar-sub-header"><a href="/note/Frontend/vue.html#vue实例上的方法" class="sidebar-link">vue实例上的方法</a></li><li class="sidebar-sub-header"><a href="/note/Frontend/vue.html#template" class="sidebar-link">template</a></li><li class="sidebar-sub-header"><a href="/note/Frontend/vue.html#指令" class="sidebar-link">指令</a></li></ul></li><li><a href="/note/Frontend/vuepress.html" class="sidebar-link">vuepress</a></li><li><a href="/note/Frontend/webpack.html" class="sidebar-link">webpack</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="vue"><a href="#vue" aria-hidden="true" class="header-anchor">#</a> vue</h1> <h2 id="start"><a href="#start" aria-hidden="true" class="header-anchor">#</a> start</h2> <p><strong>渐进式</strong></p> <p>可按需使用</p> <p><strong>逐一递增</strong></p> <p>vue+components+vue-router+vuex+vue-cli</p> <p><strong>库和框架的区别</strong></p> <p>库：调用库中的方法实现自己的功能</p> <p>框架：我们在指定的位置写好代码，框架帮我们调用</p> <p><strong>mvc和mvvm区别</strong></p> <p>mvc单向，model-view-controller，数据变化后需要通过controller手动改变视图</p> <p>mvvm双向，model-view-viewmodel，数据变化可以驱动视图，vm就是viewmodel,</p> <p><strong>声明式和命令式</strong></p> <p>reduce不知道内部如何实现，是声明式
for循环，命令计算机帮执行，叫做命令式</p> <p><strong>vm=new Vue({})配置</strong></p> <ol><li><p>el:'#app'//范围</p> <blockquote><p>el换成.$mount('#app')是一样的。</p> <p>单元测试时会用到。</p></blockquote></li> <li><p>template:'&lt;h1&gt;hello world&lt;/h1&gt;'//替换范围中内容</p></li> <li><p>data:{
msg:'hello'
}//存放数据,把数据代理给了vm。用之前需要先声明。</p></li></ol> <div class="language- extra-class"><pre class="language-text"><code>let vm=new Vue({
    el:'#app',
    template:'&lt;h1&gt;hello world&lt;/h1&gt;'
    data:{
      info:{xxx:'xxx'}
    }
}).$mount('#app')//与el相同作用，二选一
</code></pre></div><h2 id="observer"><a href="#observer" aria-hidden="true" class="header-anchor">#</a> observer</h2> <p>响应式变化</p> <p>什么样的数据会更新？</p> <ol><li><p>对象需要先声明存在，才能触发数据更新。</p></li> <li><p>数组需要改写，改写后length变化不能监听</p> <div class="language-let arr=['push','slice','shift','unshift'] extra-class"><pre class="language-text"><code> arr.forEach(method=&gt;{
   let oldPush=Array.prototype[method];
   Array.prototype[method]=function(value){
     console.log('数据更新了')
     oldPush.call(this,value)//别人身上的方法，想要使用到自己身上，就用call去调用
   }
 })
 obj.age.push(5)```
</code></pre></div></li> <li><p>值设置为对象才有效，需要修改某个值，可以使用vm.$set(vm.info,'address','zf');</p> <p>vm.info.address='world'//无效</p> <p>vm.info={address:'回龙观'}//有效，</p></li></ol> <p><strong>observer原理：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>let obj={
    name:'jw',
    age:{
    	age:18
    }
}
//vue数据劫持 Object.defineProperty
function observer(obj){
  if(typeof obj=='object'){
    for(let key in obj){
      defineReactive(obj,key,obj[key]);
    }
  }
}
function defineReactive(obj,key,value){
	observer(value);//判断 value是不是对象，如果是对象，会继续监控
  Object.defineProperty(obj,key,{
    get(){
      return value
    },
    set(val){
      observer(val);//如果设置的值是对象 需要在进行这个对象的监控
      console.log('数据更新了')
      value=val;
    }
  })
}
observer(obj)
obj.age.age='zf'
</code></pre></div><h2 id="vue实例上的方法"><a href="#vue实例上的方法" aria-hidden="true" class="header-anchor">#</a> vue实例上的方法</h2> <ol><li><p>vm.$el</p> <p>当前挂载的元素</p></li> <li><p>vm.$options</p> <p>当前实例的参数</p></li> <li><p>vm.$nextTick(()=&gt;{...})</p> <p>视图更新后再执行
(vue数据变化后更新视图操作是异步执行的)</p></li> <li><p>vm.$watch('info.xxx',function(newValue,oldValue){...})</p> <p>数据变化后执行
(多次更新只会触发一次)</p></li></ol> <h2 id="template"><a href="#template" aria-hidden="true" class="header-anchor">#</a> template</h2> <ul><li><p>取值表达式
{{}}</p> <p>作用：</p> <ul><li>运算</li> <li>取值</li> <li>三元</li></ul> <p>注意：</p> <ul><li>其中的this都是指代vm实例，可省略</li> <li>取值时放对象，加空格即可 {
  &quot;name&quot;: 1
}</li></ul></li></ul> <h2 id="指令"><a href="#指令" aria-hidden="true" class="header-anchor">#</a> 指令</h2> <ol><li><p>v-once,v-html
v-once</p> <ul><li>只渲染一次，数据变化了也不更新视图
v-html</li> <li>渲染成dom元素</li></ul> <blockquote><p>v-html使用innerHTML,所以不要将用户输入的内容展现出来，内容必须为可信任
&lt;img src=&quot;x&quot; onerror=&quot;alert()&quot; /&gt; 图片找不到会走onerror事件，就会弹出alert框</p></blockquote></li> <li><p>v-if v-else</p> <ul><li>必须是连一块的</li> <li>可使用template无意义标签来框起来</li></ul> <blockquote><p>v-if和v-show的区别：
v-if控制dom有没有，v-show控制样式不显示，v-show不支持template</p></blockquote></li> <li><p>v-for</p> <div class="language- extra-class"><pre class="language-text"><code>//循环数组
&lt;div v-for=&quot;(fruit,index) in fruits&quot; :key=&quot;index&quot;&gt;{{fruit}}{{index}}&lt;/div&gt;
//循环对象
&lt;div v-for=&quot;(value,key) in fruits&quot; :key=&quot;key&quot;&gt;{{value}}{{key}}&lt;/div&gt;
</code></pre></div><ul><li><p>循环谁就把它放在谁身上</p></li> <li><p>vue2.5以上要求必须使用key属性</p></li> <li><p>可使用template无意义标签来框起来</p> <blockquote><p>key只能加在循环的元素上，不能加在template上，应该加在内部循环的元素上</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;template v-for=&quot;i in 3&quot;&gt;
	&lt;div :key=&quot;${i}_1&quot;&gt;{{i}}&lt;/div&gt;
	&lt;div :key=&quot;${i}_2&quot;&gt;{{i}}&lt;/div&gt;
&lt;/template&gt;
</code></pre></div></blockquote></li></ul></li></ol> <blockquote><p>注意：</p> <ol><li><p>key也可以用来区分元素</p> <div class="language- extra-class"><pre class="language-text"><code>//修改flag值后不会立刻渲染，因为认为是同一个东西，加了key之后就会立刻重新渲染
&lt;div v-if=&quot;flag&quot;&gt;
	&lt;span&gt;珠峰&lt;/span&gt;
	&lt;input type=&quot;text&quot; key=&quot;1&quot;/&gt;
&lt;/div&gt;
&lt;div v-else&gt;
	&lt;span&gt;架构&lt;/span&gt;
	&lt;input type=&quot;text&quot; key=&quot;2&quot;/&gt;
&lt;/div&gt;
</code></pre></div></li> <li><p>尽量不要用index来作为key，因为index再数据顺序变化后会消耗性能，如果有唯一标识，尽量用唯一标识</p></li></ol></blockquote> <ol start="4"><li><p>v-model</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;input type='text' :value=&quot;msg&quot; @input=&quot;e=&gt;{msg=e.target.value}&quot;/&gt;
等价于  &lt;!-- v-model 是 @input + :value 的一个语法糖--&gt;
&lt;input type='text' v-model=&quot;msg&quot;/&gt;
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>//select
data:{
	selectValue:'',
	list:['{value:'菜单1',id:1}','{value:'菜单2',id:2}','{value:'菜单3',id:3}']
}
&lt;select v-model=&quot;selectValue&quot;&gt;
	&lt;option value=&quot;0&quot; disabled&gt;请选择&lt;/option&gt;
	&lt;option v-for=&quot;item in list&quot; :key=&quot;item.id&quot; :value=&quot;item.id&quot;&gt;{{item.value}}&lt;/option&gt;
&lt;/select&gt;
//multiple，太丑一般不用

//radio
//根据v-model来分组
data:{
	radioValue:'男'
}
&lt;input type='radio' v-model=&quot;radioValue&quot; value=&quot;男&quot;/&gt;
&lt;input type='radio' v-model=&quot;radioValue&quot; value=&quot;女&quot;/&gt;
&lt;input type='radio' v-model=&quot;radioValue&quot; value=&quot;其他&quot;/&gt;

//checkbox
data:{
	checkValue:true
}
&lt;input type='checkbox' v-model=&quot;checkValue&quot; value=&quot;是否喜欢&quot;/&gt;
</code></pre></div></li> <li><p>@</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;input type='text' @input=&quot;fn&quot;/&gt;

methods:{
	fn(){...}
}
</code></pre></div><ul><li>绑定方法，写在method中，this指向vm实例，data中不能放方法，因为this指向window</li> <li>methods中不要写成fn:()=&gt;{}，否则this就指向window了</li> <li>方法传参：
<ol><li>需要传参就加括号写参数，无参数则不加括号</li> <li>默认有e事件参数，有传参时，保留$event参数作为事件参数</li></ol></li></ul></li> <li><p>v-bind:或者:</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;input type='text' :value=&quot;msg&quot;/&gt;
</code></pre></div><ul><li>绑定属性</li></ul></li></ol></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">4/25/2019, 5:35:36 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/note/Frontend/js.html" class="prev">
          js
        </a></span> <span class="next"><a href="/note/Frontend/vuepress.html">
          vuepress
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/note/assets/js/app.cb954e78.js" defer></script><script src="/note/assets/js/9.2b0eb318.js" defer></script>
  </body>
</html>
