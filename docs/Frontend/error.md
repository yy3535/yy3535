# 工作

## 工作遇到的问题



## 工作内容

### 端午节发放福利问卷调查
- 背景
  - 人力部门一直使用问卷星做福利发放问卷调查，但是有些人没有交工会费，问卷星不能筛选没有交工会费的人，所以需要我们自己做一个能筛选是否在工会名单里的页面。
  - 因为集团的服务器我们是不能操作的，这个页面打算放在集团的专题上面。头问我能不能纯前端操作服务器上的excel文件，提交礼物需求，查了半个小时发现不可行，然后我询问是否可以使用LeanCloud之类的后端服务，又问能把后端放我们自己的服务器上吗，询问了跨域已解决，最终决定前端放在总部云办公的服务器上，后端放在苏州学校自己的服务器上。
- 技术栈
  - jq
    - 因为是需要上传到集团系统的文件，不清楚vue是否会出未知问题，需求又比较紧急，最多两天时间完成，所以选了直接下载下来的模板用的jq
  - layui
    - 因为使用的jq，又有两处表单提交，所以用了layui
  - 

- 问题
  - post请求错误500，服务端测试没问题，但ajax请求一直500,使用的是layui的form表单提交
    - 折腾近一个小时，最后发现是ajax的data不需要用JSON.stringify()转。去掉后就ok了（难道ajax不是提交的json字符串吗？？打印出来明明是json对象，转成字符串反而提交不了了）

  - 前后端分离，前端发送请求，cookies后端接受不到
    - 不用vue等框架，无法前端路由

  - cookies里能不能存放明文用户名
    - 最终放了明文用户名，并且在页面做了用户未登录跳转，先验证是否登陆，再显示出DOM.
  
  - 安全问题
    - 因为我判断用户已提交是用的display:none将表单隐藏，如果有人直接在浏览器修改css，就能修改数据了（前提是知道密码，表单页面验证了是否有cookies，没有就跳转回登陆页。）
    - XSS攻击，没有防御，可能是需要后端做的》
  
  - 提交成功页面在qq浏览器和ios的浏览器中会返回到表单页面并且不会刷新的问题
    - 把location.href="xxx"改成了location.replace("xxx")，避免了返回到表单页面，只会返回到登录页面。


### 学生信息管理系统

### 讲义配送调度系统
- 背景
  - 
- 问题

- 