<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.24">
    <link rel="icon" href="/img/favicon.ico"><title>JS基础 | yy3535</title><meta name="description" content="yy3535的笔记">
    <link rel="preload" href="/assets/js/runtime~app.a80ffde9.js" as="script"><link rel="preload" href="/assets/css/styles.3348bbe9.css" as="style"><link rel="preload" href="/assets/js/1812.a4f6345c.js" as="script"><link rel="preload" href="/assets/js/app.aa6c2a7b.js" as="script">
    <link rel="stylesheet" href="/assets/css/styles.3348bbe9.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container no-sidebar"><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/img/logo.jpg" alt="yy3535"><span class="site-name can-hide">yy3535</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/Frontend/" class="nav-link" aria-label="前端"><!--[--><!--]--> 前端 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/Backend/" class="nav-link" aria-label="后端"><!--[--><!--]--> 后端 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/Operation/" class="nav-link" aria-label="运维"><!--[--><!--]--> 运维 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/About/" class="nav-link" aria-label="关于"><!--[--><!--]--> 关于 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/Thought/" class="nav-link" aria-label="错题"><!--[--><!--]--> 错题 <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/yy3535/yy3535" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/Frontend/" class="nav-link" aria-label="前端"><!--[--><!--]--> 前端 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/Backend/" class="nav-link" aria-label="后端"><!--[--><!--]--> 后端 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/Operation/" class="nav-link" aria-label="运维"><!--[--><!--]--> 运维 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/About/" class="nav-link" aria-label="关于"><!--[--><!--]--> 关于 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/Thought/" class="nav-link" aria-label="错题"><!--[--><!--]--> 错题 <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/yy3535/yy3535" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--]--></ul><!--[--><!--]--></aside><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="js基础" tabindex="-1"><a class="header-anchor" href="#js基础" aria-hidden="true">#</a> JS基础</h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/frontend/js/jsbasic/#变量" class="router-link-active router-link-exact-active">变量</a><ul><li><a aria-current="page" href="/frontend/js/jsbasic/#类型" class="router-link-active router-link-exact-active">类型</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#显示类型转换" class="router-link-active router-link-exact-active">显示类型转换</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#隐式类型转换" class="router-link-active router-link-exact-active">隐式类型转换</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#二进制和八进制表示法-es6" class="router-link-active router-link-exact-active">二进制和八进制表示法[ES6]</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#number-api-es6-全局方法移到了number对象上" class="router-link-active router-link-exact-active">Number API[ES6,全局方法移到了Number对象上]</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#math对象" class="router-link-active router-link-exact-active">Math对象</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#运算符" class="router-link-active router-link-exact-active">运算符</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#json" class="router-link-active router-link-exact-active">JSON</a></li></ul></li><li><a aria-current="page" href="/frontend/js/jsbasic/#原型和原型链" class="router-link-active router-link-exact-active">原型和原型链</a><ul><li><a aria-current="page" href="/frontend/js/jsbasic/#构造函数" class="router-link-active router-link-exact-active">构造函数</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#原型" class="router-link-active router-link-exact-active">原型</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#原型链" class="router-link-active router-link-exact-active">原型链</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#原型链继承" class="router-link-active router-link-exact-active">原型链继承</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#zepto-或其他框架-源码中如何使用原型链" class="router-link-active router-link-exact-active">zepto（或其他框架） 源码中如何使用原型链</a></li></ul></li><li><a aria-current="page" href="/frontend/js/jsbasic/#作用域和闭包" class="router-link-active router-link-exact-active">作用域和闭包</a><ul><li><a aria-current="page" href="/frontend/js/jsbasic/#变量提升" class="router-link-active router-link-exact-active">变量提升</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#this" class="router-link-active router-link-exact-active">this</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#作用域链" class="router-link-active router-link-exact-active">作用域链</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#闭包" class="router-link-active router-link-exact-active">闭包</a></li></ul></li><li><a aria-current="page" href="/frontend/js/jsbasic/#异步" class="router-link-active router-link-exact-active">异步</a><ul><li><a aria-current="page" href="/frontend/js/jsbasic/#什么是异步" class="router-link-active router-link-exact-active">什么是异步</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#异步的实现机制-以及对单线程的理解" class="router-link-active router-link-exact-active">异步的实现机制，以及对单线程的理解</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#异步的问题和解决方案" class="router-link-active router-link-exact-active">异步的问题和解决方案</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#同步和异步的区别" class="router-link-active router-link-exact-active">同步和异步的区别</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#关于settimeout的笔试题" class="router-link-active router-link-exact-active">关于setTimeout的笔试题</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#前端使用异步的场景" class="router-link-active router-link-exact-active">前端使用异步的场景</a></li></ul></li><li><a aria-current="page" href="/frontend/js/jsbasic/#内置对象-正则表达式" class="router-link-active router-link-exact-active">内置对象-正则表达式</a><ul><li><a aria-current="page" href="/frontend/js/jsbasic/#正则对象" class="router-link-active router-link-exact-active">正则对象</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#正则api" class="router-link-active router-link-exact-active">正则api:</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#字符串的正则方法" class="router-link-active router-link-exact-active">字符串的正则方法</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#规则" class="router-link-active router-link-exact-active">规则</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#字符类" class="router-link-active router-link-exact-active">字符类</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#量词" class="router-link-active router-link-exact-active">量词</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#捕获组" class="router-link-active router-link-exact-active">捕获组</a></li></ul></li><li><a aria-current="page" href="/frontend/js/jsbasic/#内置对象-数组常用-api" class="router-link-active router-link-exact-active">内置对象-数组常用 API</a><ul><li><a aria-current="page" href="/frontend/js/jsbasic/#数组自带方法" class="router-link-active router-link-exact-active">数组自带方法</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#扩展运算符-数组-es6" class="router-link-active router-link-exact-active">扩展运算符（数组）[ES6]</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#将空位转为undefined-es6" class="router-link-active router-link-exact-active">将空位转为undefined[ES6]</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#查找" class="router-link-active router-link-exact-active">查找</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#匹配" class="router-link-active router-link-exact-active">匹配</a></li></ul></li><li><a aria-current="page" href="/frontend/js/jsbasic/#内置对象-对象常用-api" class="router-link-active router-link-exact-active">内置对象-对象常用 API</a><ul><li><a aria-current="page" href="/frontend/js/jsbasic/#属性" class="router-link-active router-link-exact-active">属性</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#object-实例的方法" class="router-link-active router-link-exact-active">Object 实例的方法</a></li></ul></li><li><a aria-current="page" href="/frontend/js/jsbasic/#内置对象-function-api" class="router-link-active router-link-exact-active">内置对象-Function API</a><ul><li><a aria-current="page" href="/frontend/js/jsbasic/#函数参数的默认值-es6" class="router-link-active router-link-exact-active">函数参数的默认值[ES6]</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#rest-参数-es6" class="router-link-active router-link-exact-active">rest 参数[ES6]</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#函数内严格模式" class="router-link-active router-link-exact-active">函数内严格模式</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#函数的name属性" class="router-link-active router-link-exact-active">函数的name属性</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#箭头函数" class="router-link-active router-link-exact-active">箭头函数</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#尾调用优化" class="router-link-active router-link-exact-active">尾调用优化</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#函数参数的尾逗号" class="router-link-active router-link-exact-active">函数参数的尾逗号</a></li><li><a aria-current="page" href="/frontend/js/jsbasic/#delete-操作符" class="router-link-active router-link-exact-active">delete 操作符</a></li></ul></li><li><a aria-current="page" href="/frontend/js/jsbasic/#面试题" class="router-link-active router-link-exact-active">面试题</a><ul><li><a aria-current="page" href="/frontend/js/jsbasic/#settimeout设置为0有什么作用" class="router-link-active router-link-exact-active">setTimeout设置为0有什么作用？</a></li></ul></li></ul></nav><h2 id="变量" tabindex="-1"><a class="header-anchor" href="#变量" aria-hidden="true">#</a> 变量</h2><h3 id="类型" tabindex="-1"><a class="header-anchor" href="#类型" aria-hidden="true">#</a> 类型</h3><div class="check" data-v-73689c06><input type="checkbox" id="zhi" data-v-73689c06><label for="zhi" data-v-73689c06></label></div> - 值类型：string,boolean,number,undefined <div class="check" data-v-73689c06><input type="checkbox" id="yinyong" data-v-73689c06><label for="yinyong" data-v-73689c06></label></div> - 引用类型：object(date,RegExp),array,function,null（引用类型可以自由设置属性，除了null） <div class="check" data-v-73689c06><input type="checkbox" id="typeof" data-v-73689c06><label for="typeof" data-v-73689c06></label></div> - `typeof`可以区分类型有`number` `string` `boolean` `undefined`（值类型） `function` `object`（引用类型） <ul><li><p>js内置函数（数据封装类对象）</p><ul><li><code>Object</code> <code>Array</code> <code>Boolean</code> <code>Number</code> <code>String</code> <code>Function</code> <code>Date</code> <code>RegExp</code> <code>Error</code></li></ul></li><li><p><code>===</code>和<code>==</code></p><ul><li><code>==</code>会先试图类型转换，然后再比较，<code>===</code>不会类型转换</li><li>必须用<code>===</code>。</li><li>唯一用<code>==</code>的地方：obj.a === null || obj.a === undefined ，简写形式obj.a == null</li></ul></li></ul><h3 id="显示类型转换" tabindex="-1"><a class="header-anchor" href="#显示类型转换" aria-hidden="true">#</a> 显示类型转换</h3><ul><li><p>Number函数</p><ul><li><strong>字符串</strong>： <ul><li>可解析数值:相应的数值</li><li>不可解析数值:NaN</li><li>空字符串:0</li></ul></li><li><strong>布尔值</strong>： <ul><li>true:1</li><li>false:0</li></ul></li><li><strong>undefined</strong>：NaN</li><li><strong>null</strong>：0</li></ul><div class="check" data-v-73689c06><input type="checkbox" id="zhuanhuan" data-v-73689c06><label for="zhuanhuan" data-v-73689c06></label></div> - **对象**： - 对象在转换类型的时候，会调用内置的 [[ToPrimitive]] 函数，对于该函数来说，算法逻辑一般来说如下： 1. 调用valueOf() 2. 调用toString() 3. 报错 ```js let obj={ [Symbol.toPrimitive](){ return 500 }, valueOf(){ return {}// 是原始数据类型，就返回结果 }, toString(){ return 200 } } console.log(true+obj);//从上往下依次调用 ``` </li><li><p>Number等同于一元正号(+)</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">+</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">//相当于 Number({})==&gt;NaN</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li>String函数 <ul><li><strong>基本类型</strong>：转成对应的字符串</li></ul><div class="check" data-v-73689c06><input type="checkbox" id="stringzhuanhuan" data-v-73689c06><label for="stringzhuanhuan" data-v-73689c06></label></div> - **对象**： 1. 调用toString() 2. 调用valueOf() 3. 报错 </li><li>Boolean函数 <ul><li><code>undefined</code> <code>null</code> <code>0</code> <code>NaN</code> <code>空字符串</code>:false</li><li>其他:true</li></ul></li></ul><div class="custom-container tip"><p class="custom-container-title">TIP</p><ul><li><code>obj</code> <code>arr</code> <code>func</code> <code>的valueOf()</code>: <code>obj</code> <code>arr</code> <code>func</code></li><li><code>obj.toString()</code>:<code>&quot;[object Object]&quot;</code></li><li><code>arr.toString()</code>:<code>arr.join(&#39;,&#39;)</code></li><li><code>func.toString()</code>:<code>函数中包含的代码转为字符串的值</code></li></ul></div><h3 id="隐式类型转换" tabindex="-1"><a class="header-anchor" href="#隐式类型转换" aria-hidden="true">#</a> 隐式类型转换</h3><div class="check" data-v-73689c06><input type="checkbox" id="yinshizhuanhuan" data-v-73689c06><label for="yinshizhuanhuan" data-v-73689c06></label></div><div class="red mark" data-v-4248bba1><p class="icon" data-v-4248bba1>★</p><!--[--><ul><li>四则运算 <ul><li><strong>+</strong>：只要其中一个是String类型，表达式的值转为String。若无字符串，表达式便转为Number类型</li><li><strong>其余</strong>：只要其中一个是Number类型，表达式的值便转为Number。</li><li><strong>非法字符</strong>：对于非法字符的情况通常会返回NaN</li></ul></li></ul><!--]--></div><ol><li>加号操作</li></ol><ul><li>通过加号运算符进行运算 <ul><li>字符串与加号运算符组成字符串连接操作</li><li>非字符串与加号运算符组成算术运算操作（需要将对应项转换成Number类型后进行操作）</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span> <span class="token operator">+</span> <span class="token number">123</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token number">NaN</span>
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token string">&#39;hello123&#39;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="2"><li>字符串间的比较</li></ol><ul><li>字符串的比较是从左到右按位进行，将对应位的字符转换成ASCII码的值进行大小比较。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span> <span class="token operator">&gt;</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;abc&#39;</span> <span class="token operator">&gt;</span> <span class="token string">&#39;abe&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;10&#39;</span> <span class="token operator">&gt;</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span> <span class="token operator">&gt;</span> <span class="token string">&#39;world&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;10&#39;</span> <span class="token operator">&gt;</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token comment">// 等同于</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 49</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;2&#39;</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 50</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 49 &gt; 50 </span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token boolean">false</span>
<span class="token boolean">false</span>
<span class="token boolean">false</span>
<span class="token boolean">false</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="3"><li>引用类型之间的比较</li></ol><ul><li>调用valueOf()进行比较 <ul><li>返回值是基本类型 <ul><li>转换成number类型进行比较</li></ul></li><li>返回值不是基本类型 <ul><li>返回值的引用地址是一致：相等</li><li>返回值的引用地址是不一致：不相等</li></ul></li></ul></li></ul><div class="absolute-box" data-v-07816e36><p data-v-07816e36><!--[-->[] == ![]//true,先布尔转换，再number转换两边都为0<!--]--></p></div> ```js console.log([] == []) console.log([] == ![]) console.log({} == {}) ``` ```js console.log([] == ![]) // 为什么[] == ![]会为true呢？ // 等同于 //第一步![]转成Boolean类型 console.log([] == !Boolean([])) // [] == false // 第二步转成Number类型再进行关系运算 console.log(Number([]) == Number(false)) // 0 == 0 ``` ```js false true false ``` <ol start="4"><li>逻辑非以及其关系运算</li></ol><ul><li>在JavaScript中逻辑非会调用Boolean转换，但是在关系运算过程中会将值转换成Number类型再进行比较。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 布尔值判断</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token number">123</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">-</span><span class="token number">123</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token keyword">null</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token keyword">undefined</span><span class="token punctuation">)</span>
<span class="token comment">// 关系运算</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&gt;</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&gt;</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 布尔值判断</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token number">123</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">-</span><span class="token number">123</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token comment">// 关系运算</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&gt;</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&gt;</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ol start="5"><li>浮点数相加</li></ol><ul><li>这是一个浮点数计算精度问题，在JavaScript中只有一个数字类型number，而number使用的是IEEE 754双精度浮点格式。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">0.1</span> <span class="token operator">+</span> <span class="token number">0.2</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">0.1</span> <span class="token operator">+</span> <span class="token number">0.2</span><span class="token punctuation">)</span> <span class="token comment">// 结果是 0.30000000000000004，而不是 0.3</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="6"><li>特殊情况</li></ol><ul><li>主要是考查对JavaScript中原始值的理解。 <ul><li>null特指对象的值未设置</li><li>undefined指一个原始值自动分配给刚刚声明的变量或没有实际参数的形式参数</li><li>NaN是（Not a Number）的缩写，当一个值不能被Number转换时返回NaN,NaN不等于任何值</li><li>0是原始值为0的数字</li><li>&#39;&#39;是原始值为空的字符串</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> <span class="token number">NaN</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token number">NaN</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">NaN</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">NaN</span> <span class="token operator">==</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">NaN</span> <span class="token operator">==</span> <span class="token number">NaN</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">==</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> <span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">NaN</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">NaN</span> <span class="token operator">==</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">NaN</span> <span class="token operator">==</span> <span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">==</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&#39;1&#39;</span> <span class="token operator">*</span> <span class="token string">&#39;a&#39;</span>     <span class="token comment">// =&gt; NaN</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li>判断语句 <ul><li>转换规则同Boolean的构造函数。</li></ul></li><li>Native调用 <ul><li>比如console.log、alert调用自动转为字符串类型</li></ul></li></ul><h4 id="常见题目" tabindex="-1"><a class="header-anchor" href="#常见题目" aria-hidden="true">#</a> 常见题目</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token comment">// &quot;&quot;</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// [object Object]</span>
<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token operator">+</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token comment">// [object Object]</span>
<span class="token comment">// 所有浏览器都认为{}是区块语句，计算+[]，得出0</span>
<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token operator">+</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// [object Object][object Object]</span>
<span class="token comment">// 谷歌浏览器是正常结果，火狐会把第一个{}当做区块语句，计算+{}，得出NaN</span>
<span class="token boolean">true</span><span class="token operator">+</span><span class="token boolean">true</span>
<span class="token comment">// 2</span>
<span class="token number">1</span><span class="token operator">+</span><span class="token punctuation">{</span>a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span>
<span class="token comment">// 1[object Object]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="和" tabindex="-1"><a class="header-anchor" href="#和" aria-hidden="true">#</a> == 和 ===</h4><ul><li>== <ul><li>两边值类型相同时，等同于===；</li><li>两边类型不同的时候，先进行类型转换，再比较。</li></ul></li><li>=== <ul><li>不做类型转换，类型不同的一定不等。</li></ul></li></ul><div class="custom-container tip"><p class="custom-container-title">===</p><ul><li>类型不同:[不相等]</li><li>数值， <ul><li>没有NaN:相等</li><li>有一个是NaN:不相等</li></ul></li><li>字符串，每个位置的字符都一样，那么[相等]</li><li>都是true或者false:相等</li><li>都是null或者undefined:相等</li><li>引用类型比较，进行“指针地址”比较，(都引用同一个对象或函数:[相等])</li></ul></div><div class="custom-container tip"><p class="custom-container-title">==</p><ul><li>如果两个值类型相同，和 === 一样</li><li>如果两个值类型不同，转换成number再比较</li><li>null和undefined比较相等，null和undefined和其他如空字符串，false，0比较，都不等。</li><li>字符串和数值比较，把字符串转换成数值再进行比较。</li><li>任一是布尔值转成0/1再比较</li><li>对象和基本类型比较，把对象转换成基础类型的值再比较。对象转换成基础类型，利用它的toString或者valueOf方法。</li></ul></div><h3 id="二进制和八进制表示法-es6" tabindex="-1"><a class="header-anchor" href="#二进制和八进制表示法-es6" aria-hidden="true">#</a> 二进制和八进制表示法[ES6]</h3><ul><li>用前缀0b（或0B）和0o（或0O）表示。<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token number">0b111110111</span> <span class="token operator">===</span> <span class="token number">503</span> <span class="token comment">// true</span>
<span class="token number">0o767</span> <span class="token operator">===</span> <span class="token number">503</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h3 id="number-api-es6-全局方法移到了number对象上" tabindex="-1"><a class="header-anchor" href="#number-api-es6-全局方法移到了number对象上" aria-hidden="true">#</a> Number API[ES6,全局方法移到了Number对象上]</h3><ul><li>Number.toString(radix) <ul><li>将数字转为其它进制</li></ul></li></ul><div class="custom-container tip"><p class="custom-container-title">其它进制转为十进制</p><p>parseInt(&quot;11&quot;,2)</p></div><div class="custom-container tip"><p class="custom-container-title">二进制计算方法</p><p>任意几个加起来的和是十进制的数字即可。没用到的用0补位。</p><ul><li>3：2+1 11</li><li>4：4 100</li><li>7：4+2+1 111</li></ul></div><ul><li>Number.isFinite() <ul><li>检查一个数值是否为有限的（finite）</li></ul></li><li>Number.isNaN() <ul><li>检查一个值是否为NaN</li></ul></li><li>Number.parseInt()</li><li>Number.parseFloat()</li><li>Number.isInteger() <ul><li>判断一个数值是否为整数。</li><li>不是数值，返回false</li><li>25 和 25.0 被视为同一个值</li><li>数据精度的要求较高，不建议使用</li></ul></li><li>Number.EPSILON <ul><li>表示一个极小的常量（是 JavaScript 能够表示的最小精度）</li></ul></li><li>Number.isSafeInteger() <ul><li>判断一个整数是否落在这个范围之内。</li><li>Number.MAX_SAFE_INTEGER（范围上限）</li><li>Number.MIN_SAFE_INTEGER（范围下限）</li></ul></li><li>Number.prototype.toFixed(digits) <ul><li>保存到小数点后第几位</li></ul></li></ul><h3 id="math对象" tabindex="-1"><a class="header-anchor" href="#math对象" aria-hidden="true">#</a> Math对象</h3><table><thead><tr><th style="text-align:left;">功能</th><th style="text-align:right;">API</th></tr></thead><tbody><tr><td style="text-align:left;">random()</td><td style="text-align:right;">[0,1)</td></tr><tr><td style="text-align:left;">ceil(x)</td><td style="text-align:right;">向上取整</td></tr><tr><td style="text-align:left;">floor(x)</td><td style="text-align:right;">向下取整</td></tr><tr><td style="text-align:left;">round(x)</td><td style="text-align:right;">四舍五入</td></tr><tr><td style="text-align:left;">abs(x)</td><td style="text-align:right;">绝对值</td></tr><tr><td style="text-align:left;">max(x,y,z,...n)</td><td style="text-align:right;">求最大值</td></tr><tr><td style="text-align:left;">min(x,y,z...n)</td><td style="text-align:right;">求最小值</td></tr></tbody></table><ul><li><p>Math.random()</p><ul><li>常用于清除浏览器缓存，频繁访问一个链接，就在链接后加一个random()</li></ul></li><li><p>Math.pow(x,y)</p><ul><li>返回 x 的 y 次幂。 以下ES6新增：</li></ul></li><li><p>Math.trunc()</p><ul><li>去除一个数的小数部分，返回整数部分</li><li>非数值，内部Number方法将其先转为数值。</li><li>空值和无法截取整数的值，返回NaN</li></ul></li><li><p>Math.sign()</p><ul><li>判断一个数到底是正数、负数、还是零。对于非数值，会先将其转换为数值。</li><li>参数为正数，返回+1；</li><li>参数为负数，返回-1；</li><li>参数为 0，返回0；</li><li>参数为-0，返回-0;</li><li>其他值，返回NaN。</li></ul></li><li><p>Math.cbrt()</p><ul><li>计算一个数的立方根</li><li>内部也是先使用Number方法将其转为数值</li></ul></li><li><p>Math.fround()</p><ul><li>返回一个数的32位单精度浮点数形式。</li></ul></li><li><p>Math.hypot()</p><ul><li>返回所有参数的平方和的平方根。</li></ul></li><li><p>对数方法</p></li><li><p>双曲函数方法</p></li><li><p>指数运算符（**）</p><ul><li>右结合，多个指数运算符连用时，是从最右边开始计算的。<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 相当于 2 ** (3 ** 2)</span>
<span class="token number">2</span> <span class="token operator">**</span> <span class="token number">3</span> <span class="token operator">**</span> <span class="token number">2</span>
<span class="token comment">// 512</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul></li></ul><h3 id="运算符" tabindex="-1"><a class="header-anchor" href="#运算符" aria-hidden="true">#</a> 运算符</h3><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence" target="_blank" rel="noopener noreferrer">优先级<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a><ul><li>new带参数比new无参数优先级高</li></ul></li><li>求余%</li><li>按位操作符</li></ul><table><thead><tr><th>运算符</th><th>用法</th><th>描述</th></tr></thead><tbody><tr><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Bitwise_AND" target="_blank" rel="noopener noreferrer">按位与（ AND）<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></td><td><code>a &amp; b</code></td><td>对于每一个比特位，只有两个操作数相应的比特位都是1时，结果才为1，否则为0。</td></tr><tr><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Bitwise_OR" target="_blank" rel="noopener noreferrer">按位或（OR）<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></td><td>`a</td><td>b`</td></tr><tr><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Bitwise_XOR" target="_blank" rel="noopener noreferrer">按位异或（XOR）<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></td><td><code>a ^ b</code></td><td>对于每一个比特位，当两个操作数相应的比特位有且只有一个1时，结果为1，否则为0。</td></tr><tr><td><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Bitwise_NOT" target="_blank" rel="noopener noreferrer">按位非（NOT）<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></td><td><code>~ a</code></td><td>反转操作数的比特位，即0变成1，1变成0。</td></tr></tbody></table><h3 id="json" tabindex="-1"><a class="header-anchor" href="#json" aria-hidden="true">#</a> JSON</h3><ul><li><code>parse</code>和<code>stringify</code></li></ul><h2 id="原型和原型链" tabindex="-1"><a class="header-anchor" href="#原型和原型链" aria-hidden="true">#</a> 原型和原型链</h2><h3 id="构造函数" tabindex="-1"><a class="header-anchor" href="#构造函数" aria-hidden="true">#</a> 构造函数</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token keyword">this</span><span class="token punctuation">.</span>class <span class="token operator">=</span> <span class="token string">&#39;class-1&#39;</span>
    <span class="token comment">// return this  // 默认有这一行</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> f1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token string">&#39;zhangsan&#39;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> f2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token string">&#39;lisi&#39;</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li><p><code>Foo</code>是<code>f</code>的构造函数,有<code>name</code> <code>age</code> <code>class</code>三个属性</p></li><li><p>带<code>new</code>执行时，函数中的<code>this</code>就会变成一个空对象，让程序为其属性赋值，然后最终返回。默认带一个<code>return this</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&#39;foo&#39;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token string">&#39;beijing&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><p>创建一个新对象</p></li><li><p><code>this</code>指向这个新对象</p></li><li><p>执行代码，即对<code>this</code>赋值</p></li><li><p>返回<code>this</code></p></li><li><p>创建一个新对象。它继承自foo.prototype</p></li><li><p>执行foo构造函数里的代码。执行时相应的参数被传入，同时this会被指定为这个新实例。new foo等同于new foo()，只能用在不传递任何参数的情况</p></li><li><p>如果构造函数返回了一个对象，那么返回这个对象。否则，返回this</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">new2</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">func</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> o<span class="token operator">=</span>Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>func<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> k<span class="token operator">=</span><span class="token function">func</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> k<span class="token operator">===</span><span class="token string">&#39;object&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> k
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> o
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li><li><p>其他</p><ul><li><code>var a = {}</code>是<code>var a = new Object()</code>语法糖</li><li><code>var a = []</code>是<code>var a = new Array()</code>语法糖</li><li><code>function Foo(){...}</code>是<code>var Foo = new Function(...)</code>语法糖</li></ul></li><li><p>判断一个函数是否是一个变量的构造函数</p><ul><li><code>instanceof</code>(原理:一层一层往上，能否对应到<code>xxx.prototype</code>)(判断数组和伪数组：实际应用中只需要判断<code>length</code>属性是否是数字即可)</li><li>constructor===构造函数（更准确）</li></ul></li></ul><h3 id="原型" tabindex="-1"><a class="header-anchor" href="#原型" aria-hidden="true">#</a> 原型</h3><h4 id="显示原型和隐式原型" tabindex="-1"><a class="header-anchor" href="#显示原型和隐式原型" aria-hidden="true">#</a> 显示原型和隐式原型</h4><ul><li>引用类型有一个<code>__proto__</code>(隐式原型)属性，属性值是一个普通的对象</li><li>函数有一个<code>prototype</code>（显示原型）属性，属性值是一个普通的对象</li><li>引用类型的<code>__proto__</code>属性值指向它的构造函数的<code>prototype</code>属性值</li></ul><h3 id="原型链" tabindex="-1"><a class="header-anchor" href="#原型链" aria-hidden="true">#</a> 原型链</h3><div class="check" data-v-73689c06><input type="checkbox" id="prototype" data-v-73689c06><label for="prototype" data-v-73689c06></label></div><div class="red mark" data-v-4248bba1><p class="icon" data-v-4248bba1>★</p><!--[--><ul><li>当试图得到一个对象的某个属性时，如果这个对象本身没有这个属性，那么会去它的<code>__proto__</code>（即它的构造函数的<code>prototype</code>）中寻找。如果在<code>f.__proto__</code>中没有找到<code>toString</code>，那么就继续去<code>f.__proto__.__proto__</code>中寻找，因为<code>f.__proto__</code>是一个普通的对象。这样一直往上找，是一个链式的结构，叫做“原型链”。直到找到最上层<code>Object.prototype.__proto__ === null</code>都没有找到，返回<code>undefined</code>。</li></ul><!--]--></div><ul><li>如何判断一个这个属性是不是对象本身的属性呢 <ul><li>使用<code>hasOwnProperty</code>，常用在遍历对象的时候</li></ul></li></ul><h3 id="原型链继承" tabindex="-1"><a class="header-anchor" href="#原型链继承" aria-hidden="true">#</a> 原型链继承</h3><ul><li>使用案例</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 构造函数</span>
<span class="token keyword">function</span> <span class="token function">DomElement</span><span class="token punctuation">(</span><span class="token parameter">selector</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span>selector<span class="token punctuation">)</span>
    <span class="token keyword">var</span> length <span class="token operator">=</span> result<span class="token punctuation">.</span>length
    <span class="token keyword">var</span> i
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> selectorResult<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">=</span> length
<span class="token punctuation">}</span>
<span class="token comment">// 修改原型</span>
<span class="token class-name">DomElement</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
    constructor<span class="token operator">:</span> DomElement<span class="token punctuation">,</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span>index<span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">forEach</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> i
        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> elem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span>
            <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>elem<span class="token punctuation">,</span> elem<span class="token punctuation">,</span> i<span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">break</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">on</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">elem</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            elem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用</span>
<span class="token keyword">var</span> $div <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DomElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
$div<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><ul><li>构造函数继承</li></ul><div class="check" data-v-73689c06><input type="checkbox" id="extend" data-v-73689c06><label for="extend" data-v-73689c06></label></div> ```js // 第一种，借助构造函数实现继承(这种无法继承parent原型对象上的方法) function Parent1(){ this.name=&#39;parent1&#39;; } Parent1.prototype.say=function(){} function Child1(){ Parent1.call(this);// call,apply改变函数执行上下文，即this this.type=&#39;child1&#39;; } // 第二种，借助原型链实现继承(这种继承是继承了同一个parent实例，导致修改的也是同一个) function Parent2(){ this.name=&#39;parent2&#39;; this.play=[1,2,3] } function Child2(){ this.type=&#39;child2&#39;; } Child2.prototype=new Parent2(); var s1=new Child2(); var s2=new Child2(); s1.play.push(4); console.log(s1.play,s2.play)// [1,2,3,4],[1,2,3,4] // 第三种，组合继承方式(组合以上两种，避免了以上两个的问题)(缺点：继承时父级构造函数执行了两遍) function Parent3(){ this.name=&#39;parent3&#39; } function Child3(){ Parent3.call(this); this.type=&#39;child3&#39;; } Child3.prototype=new Parent3(); // 组合继承方式优化1(问题：constructorwei指向Child4) function Parent4(){ this.name=&#39;parent4&#39; } function Child4(){ Parent4.call(this); this.type=&#39;child4&#39;; } Child4.prototype=Parent4.prototype; var s4=new Child4(); console.log(s4.constructor);// Parent4 // 组合继承方式优化2(最终方案) function Parent5{ this.name=&#39;parent5&#39; } function Child5(){ Parent5.call(this); this.type=&#39;child5&#39;; } Child5.prototype=Object.create(Parent5.prototype);// 隔离父类和子类的原型对象 Child5.prototype.constructor=Child5;// 覆盖自雷的原型对象 ``` <h3 id="zepto-或其他框架-源码中如何使用原型链" tabindex="-1"><a class="header-anchor" href="#zepto-或其他框架-源码中如何使用原型链" aria-hidden="true">#</a> zepto（或其他框架） 源码中如何使用原型链</h3><ul><li>重写数组_<em>proto</em>_，里面要用到原数组属性的直接=Array.prototype.xxx，其余添加它想要添加的方法。</li></ul><h2 id="作用域和闭包" tabindex="-1"><a class="header-anchor" href="#作用域和闭包" aria-hidden="true">#</a> 作用域和闭包</h2><h3 id="变量提升" tabindex="-1"><a class="header-anchor" href="#变量提升" aria-hidden="true">#</a> 变量提升</h3><ul><li><code>&lt;script&gt;</code>中的变量提升：变量定义，函数声明 <ul><li>在一段 JS 脚本（即一个<code>&lt;script&gt;</code>标签中）执行之前，会先创建一个全局执行上下文环境，先把代码中即将执行的变量、函数声明都拿出来。变量先暂时赋值为<code>undefined</code>，函数则先声明好可使用。再开始正式执行程序。</li></ul></li><li>函数中的变量提升：变量定义，函数声明，this，arguments <ul><li>一个函数在执行之前，也会创建一个<strong>函数执行上下文</strong>环境，跟<strong>全局上下文</strong>差不多，不过<strong>函数执行上线文</strong>中会多出<code>this</code> <code>arguments</code>和函数的参数。</li></ul></li></ul><h3 id="this" tabindex="-1"><a class="header-anchor" href="#this" aria-hidden="true">#</a> this</h3><div class="check" data-v-73689c06><input type="checkbox" id="this" data-v-73689c06><label for="this" data-v-73689c06></label></div> - this指向决定于在哪里执行，和在哪里定义无关 - 全局中this指向window - 构造函数中 - 指向当前实例对象 - 其它：指向调用它的对象 - 用于`call` `apply` `bind` - 调用时指定this的指向 :::warning 注意 - 对象属性 ```js var a = { name: &#39;A&#39;, fn: function () { console.log(this.name) } } a.fn() // this === a var fn1 = a.fn fn1() // this === window ``` - 普通函数 ```js function fn() { console.log(this) } fn() // window ``` ::: :::warning 面试题 ```js var name = &quot;The Window&quot;; var object = { name : &quot;My Object&quot;, getNameFunc : function(){ return (function(){ alert(this.name); })(); }, getName:function(){ alert(this.name); } }; object.getNameFunc(); //The Window object.getName(); //My Object //函数 getNameFunc 内返回一个闭包，因此 this 指向全局对象，所以 this.name 即为定义在全部作用域下的 name（&quot;The Window&quot;）。 //函数 getName 内并未返回闭包，因此 this 指向当前对象，所以 this.name 即为当前作用域下的 name（&quot;My Object&quot;）。 ``` **this看执行的时候，自由变量看定义的时候** ::: ### 作用域 没有块级作用域，只有全局作用域和函数作用域。 <ul><li>全局作用域 <ul><li>如果写了很多行 JS 代码，变量定义都没有用函数包括，就全部都在全局作用域中。容易撞车。</li></ul></li><li>防止全局作用域污染 <ul><li><code>(function(){....})()</code>，jquery等使用匿名函数</li></ul></li></ul><h3 id="作用域链" tabindex="-1"><a class="header-anchor" href="#作用域链" aria-hidden="true">#</a> 作用域链</h3><ul><li>自由变量 <ul><li>当前作用域没有定义的变量，叫做自由变量。</li></ul></li><li>作用域链 <ul><li>自由变量需要向父级作用域寻找。如果父级也没呢？再一层一层向上寻找，直到找到全局作用域。这种一层一层的关系，就是作用域链。</li><li>自由变量按照变量定义时的作用域链</li></ul></li></ul><h3 id="闭包" tabindex="-1"><a class="header-anchor" href="#闭包" aria-hidden="true">#</a> 闭包</h3><ul><li><p>作用域内部调用作用域外部变量</p><ul><li>函数作为返回值</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token constant">F1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">100</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> f1 <span class="token operator">=</span> <span class="token constant">F1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">200</span>
<span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//100</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>函数作为参数传递</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token constant">F1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">100</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token constant">F2</span><span class="token punctuation">(</span><span class="token parameter">f1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">200</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> f1 <span class="token operator">=</span> <span class="token constant">F1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token constant">F2</span><span class="token punctuation">(</span>f1<span class="token punctuation">)</span><span class="token comment">//100</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li><li><p>闭包的应用</p><div class="check" data-v-73689c06><input type="checkbox" id="bibao1å" data-v-73689c06><label for="bibao1å" data-v-73689c06></label></div> - 创造作用域，避免全局污染 ```js function isFirstLoad() { var _list = [] <pre><code>  return function (id) {
      if (_list.indexOf(id) &gt;= 0) {
          return false
      } else {
          _list.push(id)
          return true
      }
  }
</code></pre><p>} // 使用 var firstLoad = isFirstLoad() firstLoad(10) // true firstLoad(10) // false firstLoad(20) // true</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;mark-check id=&quot;10span&quot;&gt;&lt;/mark-check&gt;
- 创建 10 个 a 标签，点击的时候弹出来对应的序号
```javascript
// 错误的写法
var i, a
for (i = 0; i &lt; 10; i++) {
    a = document.createElement(&#39;a&#39;)
    a.innerHTML = i + &#39;&lt;br&gt;&#39;
    a.addEventListener(&#39;click&#39;, function (e) {
        e.preventDefault()
        alert(i)
    })
    document.body.appendChild(a)
}
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 正确的写法</span>
<span class="token keyword">var</span> i
<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span>
        a<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token string">&#39;&lt;br&gt;&#39;</span>
        a<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token function">alert</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li><code>DocumentFragment</code>优化</li></ul></li><li><p>面试题 案例一:</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">functionaa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  varb<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token function">functioncc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    b<span class="token operator">++</span><span class="token punctuation">;</span> 
    <span class="token function">alert</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
<span class="token function">aa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>还有子函数里为什么要写 return,?这是因为要在父函数外部调用 。看下面这段代码;</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
  <span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> b<span class="token punctuation">;</span><span class="token comment">//返回 b函数本身内容，不能写成 return b()这样直接执行了 </span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> c<span class="token operator">=</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">aa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
  <span class="token keyword">var</span> b<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">cc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
    b<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token keyword">var</span> dd<span class="token operator">=</span><span class="token function">aa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">dd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">aa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
  <span class="token keyword">var</span> b<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">cc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
    b<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">aa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//结果:11,undefined</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
  <span class="token keyword">var</span> li<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>li<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    li<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>onclick<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">js

</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span>html
<span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token number">3</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token number">4</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token number">5</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>像 上面那些写法都是要么在里面加上括号，直接调用，要么在父函数外面执行。而这里却没 有? 解释:上面的内部的函数被绑定到事件上了 父函数运行，然后把里面的函数返回了，然后返回给绑定的事件上</p><p>这时代码就变成这样: li[i].onclick=function(){ alert(n); } 这是我们常用的写法，很明显，这样就运行了子函数，就会弹出结果。 这个闭包还有第二种写法:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
    <span class="token keyword">var</span> li<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">for</span><span class="token punctuation">(</span>vari<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>li<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">{</span> li<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>因为要用到循环里的变量，所以用一个闭包把下面的代码包起来，并传给一个形 参 n,调用时传实参 i,这个 i就是 for循环里的 i。</p><h2 id="异步" tabindex="-1"><a class="header-anchor" href="#异步" aria-hidden="true">#</a> 异步</h2><h3 id="什么是异步" tabindex="-1"><a class="header-anchor" href="#什么是异步" aria-hidden="true">#</a> 什么是异步</h3><div class="check" data-v-73689c06><input type="checkbox" id="yibu" data-v-73689c06><label for="yibu" data-v-73689c06></label></div> 异步的场景 - 定时 `setTimeout` `setInverval` - 网络请求，如 `ajax` `<img>`加载（常用语打点统计） - 事件绑定 <h3 id="异步的实现机制-以及对单线程的理解" tabindex="-1"><a class="header-anchor" href="#异步的实现机制-以及对单线程的理解" aria-hidden="true">#</a> 异步的实现机制，以及对单线程的理解</h3><h3 id="异步的问题和解决方案" tabindex="-1"><a class="header-anchor" href="#异步的问题和解决方案" aria-hidden="true">#</a> 异步的问题和解决方案</h3><p>异步遇到的最大的问题</p><ul><li>callback-hell</li><li>易读性差，即书写顺序和执行顺序不一致</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;start&#39;</span><span class="token punctuation">)</span>
$<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;./data1.json&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data1<span class="token punctuation">)</span>
    $<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;./data2.json&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data2<span class="token punctuation">)</span>
        $<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;./data3.json&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data3<span class="token punctuation">)</span>
            $<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;./data4.json&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data4<span class="token punctuation">)</span>
                <span class="token comment">// ...继续嵌套...</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;end&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li><a href="http://www.cnblogs.com/wangfupeng1988/p/6513070.html" target="_blank" rel="noopener noreferrer">深入理解 JavaScript 异步系列（1）——基础<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li><li><a href="http://www.cnblogs.com/wangfupeng1988/p/6515779.html" target="_blank" rel="noopener noreferrer">深入理解 JavaScript 异步系列（2）—— jquery的解决方案<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li><li><a href="http://www.cnblogs.com/wangfupeng1988/p/6515855.html" target="_blank" rel="noopener noreferrer">深入理解 JavaScript 异步系列（3）—— ES6 中的 Promise<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li><li><a href="http://www.cnblogs.com/wangfupeng1988/p/6532713.html" target="_blank" rel="noopener noreferrer">深入理解 JavaScript 异步系列（4）—— Generator<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li><li><a href="http://www.cnblogs.com/wangfupeng1988/p/6532734.html" target="_blank" rel="noopener noreferrer">深入理解 JavaScript 异步系列（5）—— async await<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li></ul><h3 id="同步和异步的区别" tabindex="-1"><a class="header-anchor" href="#同步和异步的区别" aria-hidden="true">#</a> 同步和异步的区别</h3><p>同步会阻塞代码执行，而异步不会。<code>alert</code>是同步，<code>setTimeout</code>是异步</p><h3 id="关于settimeout的笔试题" tabindex="-1"><a class="header-anchor" href="#关于settimeout的笔试题" aria-hidden="true">#</a> 关于<code>setTimeout</code>的笔试题</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 以下代码执行后，打印出来的结果是什么</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>该题目的答案是<code>1 3 5 2 4</code></p><h3 id="前端使用异步的场景" tabindex="-1"><a class="header-anchor" href="#前端使用异步的场景" aria-hidden="true">#</a> 前端使用异步的场景</h3><ul><li>setTimeout setInterval</li><li>网络请求</li><li>事件绑定</li></ul><h2 id="内置对象-正则表达式" tabindex="-1"><a class="header-anchor" href="#内置对象-正则表达式" aria-hidden="true">#</a> 内置对象-正则表达式</h2><h3 id="正则对象" tabindex="-1"><a class="header-anchor" href="#正则对象" aria-hidden="true">#</a> 正则对象</h3><ul><li>正则对象可以匹配变量，pattern 正则表达式的文本，flags(g:全局匹配 i:忽略大小写 m：多行)</li><li>三种方式 <ul><li>字面量 <ul><li>/xyz/i</li></ul></li><li>构造函数（返回一个正则表达式字面量） <ul><li>参数是字符串(字符串里需要转义<code>new RegExp(&quot;\\w+&quot;)</code>) <ul><li><code>var regex = new RegExp(&#39;xyz&#39;, &#39;i&#39;);</code> 等价于 <code>var regex = /xyz/i;</code></li></ul></li><li>参数是正则表示式 <ul><li><code>var regex = new RegExp(/xyz/i);</code> 等价于 <code>var regex = /xyz/i;</code></li></ul></li><li>参数是正则表示式时第二个参数添加修饰符[ES6] <ul><li><code>new RegExp(/abc/ig, &#39;i&#39;)</code> i覆盖了ig</li></ul></li></ul></li><li>工厂符号 <ul><li>RegExp(&#39;xyz&#39; ,i)</li></ul></li></ul></li><li>注意点 <ul><li>正则表达式里有变量</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">^(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>j<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>o<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li></ul><h3 id="正则api" tabindex="-1"><a class="header-anchor" href="#正则api" aria-hidden="true">#</a> 正则api:</h3><ul><li>RegExp.prototype.exec(str) <ul><li>在一个指定字符串中执行一个搜索匹配。返回一个结果数组(匹配的第一个字符串)或 null，并改变lastIndex(再次执行exec时开始搜索的位置)</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token constant">RE_DATE</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\d{4})-(\d{2})-(\d{2})</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> matchObj <span class="token operator">=</span> <span class="token constant">RE_DATE</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">&#39;1999-12-31&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 返回结果</span>
<span class="token punctuation">[</span>
    <span class="token comment">// 匹配的第一个字符串</span>
    <span class="token number">0</span><span class="token operator">:</span> <span class="token string">&quot;1999-12-31&quot;</span>
    <span class="token comment">// 所有分组</span>
    <span class="token number">1</span><span class="token operator">:</span> <span class="token string">&quot;1999&quot;</span>
    <span class="token number">2</span><span class="token operator">:</span> <span class="token string">&quot;12&quot;</span>
    <span class="token number">3</span><span class="token operator">:</span> <span class="token string">&quot;31&quot;</span>
    <span class="token comment">// 设置了具名组，并且该组有匹配时的分组捕获</span>
    groups<span class="token operator">:</span> <span class="token keyword">undefined</span>
    groups<span class="token operator">:</span> <span class="token punctuation">{</span>
        year<span class="token operator">:</span><span class="token number">1999</span><span class="token punctuation">,</span>
        month<span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">,</span>
        day<span class="token operator">:</span><span class="token number">31</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 匹配到的字符位于原始字符串的基于0的索引值</span>
    index<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token comment">// 原始字符串	</span>
    input<span class="token operator">:</span> <span class="token string">&quot;1999-12-31&quot;</span>
    length<span class="token operator">:</span> <span class="token number">4</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div></li><li>RegExp.prototype.test(str) <ul><li>执行一个检索，用来查看正则表达式与指定的字符串是否匹配。返回 true 或 false。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&#39;abc&#39;</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^a</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li>RegExp.prototype.unicode[ES6] <ul><li>返回是否设置了u修饰符。</li></ul></li><li>RegExp.prototype.sticky[ES6] <ul><li>返回是否设置了y修饰符</li></ul></li><li>RegExp.prototype.flags[ES6] <ul><li>返回正则表达式的修饰符</li></ul></li></ul><h3 id="字符串的正则方法" tabindex="-1"><a class="header-anchor" href="#字符串的正则方法" aria-hidden="true">#</a> 字符串的正则方法</h3><p>5个方法：match()、replace()、search()、split()、matchAll()</p><h3 id="规则" tabindex="-1"><a class="header-anchor" href="#规则" aria-hidden="true">#</a> 规则</h3><ul><li>默认前一次匹配的结束是下一次匹配的开始</li></ul><h3 id="字符类" tabindex="-1"><a class="header-anchor" href="#字符类" aria-hidden="true">#</a> 字符类</h3><ul><li>[]中括号表示范围 <ul><li><code>[a-zA-Z],[abc],[cf]at</code>,</li><li><code>[0-9]</code></li><li><code>[^a-d]</code> 非a-d的字符</li></ul></li><li>()括号表示里面内容是个整体，优先顺序，|表示或者 <ul><li><code>(cla|pa)ss</code> 表示class或者pass</li></ul></li></ul><h4 id="预定义字符类" tabindex="-1"><a class="header-anchor" href="#预定义字符类" aria-hidden="true">#</a> 预定义字符类</h4><table><thead><tr><th style="text-align:left;">符号</th><th style="text-align:left;">含义</th></tr></thead><tbody><tr><td style="text-align:left;">.</td><td style="text-align:left;">匹配除\n换行符外的任何单字符。匹配包括\n在内的所有字符，使用`(.</td></tr><tr><td style="text-align:left;">\</td><td style="text-align:left;">在非特殊字符之前的反斜杠表示下一个字符是特殊字符，不能按照字面理解。在特殊字符之前的反斜杠表示下一个字符不是特殊字符，应该按照字面理解。</td></tr><tr><td style="text-align:left;">\d</td><td style="text-align:left;">数字字符:[0-9]</td></tr><tr><td style="text-align:left;">\D</td><td style="text-align:left;">非数字字符:[^0-9]</td></tr><tr><td style="text-align:left;">\s</td><td style="text-align:left;">空白字符（空格和换行符）:[\f\n\r\t\v]</td></tr><tr><td style="text-align:left;">\S</td><td style="text-align:left;">非空白字符:[^\s]</td></tr><tr><td style="text-align:left;">\w</td><td style="text-align:left;">单词字符:[a-zA-Z_0-9]</td></tr><tr><td style="text-align:left;">\W</td><td style="text-align:left;">非单词字符:[^\w]</td></tr><tr><td style="text-align:left;">\f</td><td style="text-align:left;">匹配一个换页符</td></tr><tr><td style="text-align:left;">\n</td><td style="text-align:left;">匹配一个换行符</td></tr><tr><td style="text-align:left;">\r</td><td style="text-align:left;">匹配一个回车符</td></tr><tr><td style="text-align:left;">\t</td><td style="text-align:left;">匹配一个水平制表符</td></tr><tr><td style="text-align:left;">\v</td><td style="text-align:left;">匹配一个垂直制表符</td></tr></tbody></table><h3 id="量词" tabindex="-1"><a class="header-anchor" href="#量词" aria-hidden="true">#</a> 量词</h3><ul><li>允许指定匹配出现的次数,以下为贪婪模式：</li></ul><table><thead><tr><th style="text-align:left;">符号</th><th style="text-align:left;">含义</th></tr></thead><tbody><tr><td style="text-align:left;">X?</td><td style="text-align:left;">匹配X零次或一次</td></tr><tr><td style="text-align:left;">X*</td><td style="text-align:left;">匹配X零次或多次</td></tr><tr><td style="text-align:left;">X+</td><td style="text-align:left;">匹配X一次或多次</td></tr><tr><td style="text-align:left;">X{n,m}</td><td style="text-align:left;">匹配n-m次</td></tr><tr><td style="text-align:left;">X{n,}</td><td style="text-align:left;">匹配X至少n次</td></tr></tbody></table><img src="/img/三种模式.jpg" alt="foo"><ul><li>量词模式 <ul><li>贪婪：尽量多的匹配目标字符串，且能够回退</li><li>勉强：尽量少地匹配目标串</li><li>侵占：尽量多地匹配目标串，且不能回退</li></ul></li></ul><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code>目标串：xfooxxxxxxfoo
贪婪模式：.<span class="token italic"><span class="token punctuation">*</span><span class="token content">foo
匹配一个（</span><span class="token punctuation">*</span></span>f尽量多地全部字符串匹配，然后到foo，没有字符串了，就回退一个，再回退一个，直到回退三个时满足条件，然后就匹配了一个）
勉强模式：<span class="token italic"><span class="token punctuation">*</span><span class="token content">?foo
匹配两个（第一个字符不是f，所以勉强地吞下一个x，然后第二个开始发现是foo，所以第一次匹配是xfoo,然后第二次吞下很多个xxx后发现xxxxxxfoo符合，所以共匹配两次）
侵占模式：.</span><span class="token punctuation">*</span></span>+foo
匹配0个（一次性匹配所有字符，不回退，所以后面的foo没有字符串了）
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code>目标串：232hjdhfd7474$
贪婪模式：\w+[a-z]
匹配一个
勉强模式：\w+?[a-z]
匹配三个
侵占模式：\w++[a-z]
匹配0个
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="捕获组" tabindex="-1"><a class="header-anchor" href="#捕获组" aria-hidden="true">#</a> 捕获组</h3><ul><li>捕获组：使用括号作为单独的单元来对待的一种方式，可通过程序方便地拿到分组对应的匹配内容</li><li>作用： <ul><li>方便程序获取指定组的匹配</li><li>反向引用时调用</li></ul></li><li>比如在((A)(B(C)))中，按左括号从左到右来数，有四个括号 <ul><li>1:((A)(B(C)))// 表示整个表达式</li><li>2:(A)</li><li>3:(B(C))</li><li>4:(C)</li></ul></li><li>具名组匹配（为每一个组匹配指定一个名字）[ES6] <ul><li>在圆括号内部，模式的头部添加<code>问号 + 尖括号 + 组名（?&lt;year&gt;）</code>，就可以在exec方法返回结果的groups属性上引用该组名。数字序号（matchObj[1]）依然有效。</li><li>如果具名组as没有找到匹配，那么matchObj.groups.as属性值就是undefined，并且as这个键名在groups是始终存在的。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token constant">RE_OPT_A</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(?&lt;as&gt;a+)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> matchObj <span class="token operator">=</span> <span class="token constant">RE_OPT_A</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

matchObj<span class="token punctuation">.</span>groups<span class="token punctuation">.</span>as <span class="token comment">// undefined</span>
<span class="token string">&#39;as&#39;</span> <span class="token keyword">in</span> matchObj<span class="token punctuation">.</span>groups <span class="token comment">// true</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>利用具名组解构赋值(直接从匹配结果上为变量赋值)</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span>groups<span class="token operator">:</span> <span class="token punctuation">{</span>one<span class="token punctuation">,</span> two<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(?&lt;one&gt;.*):(?&lt;two&gt;.*)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">u</span></span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">&#39;foo:bar&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
one  <span class="token comment">// foo</span>
two  <span class="token comment">// bar</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>利用具名组替换（使用<code><!--vuepress-ssr-app-->lt;组名&gt;</code>引用具名组。） <ul><li>第二个参数是字符串<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// let re = /(?\&lt;year&gt;\d{4})-(?\&lt;month&gt;\d{2})-(?\&lt;day&gt;\d{2})/u;</span>
<span class="token comment">// &#39;2015-01-02&#39;.replace(re, &#39;<!--vuepress-ssr-app-->lt;day&gt;/<!--vuepress-ssr-app-->lt;month&gt;/<!--vuepress-ssr-app-->lt;year&gt;&#39;)</span>
<span class="token comment">// &#39;02/01/2015&#39;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li>第二个参数是函数。具名组匹配新增了最后一个函数参数(具名组构成的一个对象)。函数内部可以直接对这个对象进行解构赋值。</li></ul><div class="language-JS ext-JS line-numbers-mode"><pre class="language-JS"><code>&#39;2015-01-02&#39;.replace(re, (
    matched, // 整个匹配结果 2015-01-02
    capture1, // 第一个组匹配 2015
    capture2, // 第二个组匹配 01
    capture3, // 第三个组匹配 02
    position, // 匹配开始的位置 0
    S, // 原字符串 2015-01-02
    groups // 具名组构成的一个对象 {year, month, day}
) =&gt; {
    let {day, month, year} = groups;
    return `${day}/${month}/${year}`;
});
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li><li>引用（两种引用语法可以同时使用） <ul><li>\k&lt;组名&gt;</li><li>数字引用（\1）</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token constant">RE_TWICE</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(?&lt;word&gt;[a-z]+)!\k&lt;word&gt;!\1$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token constant">RE_TWICE</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;abc!abc!abc&#39;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token constant">RE_TWICE</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;abc!abc!ab&#39;</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul></li></ul><h4 id="反向引用" tabindex="-1"><a class="header-anchor" href="#反向引用" aria-hidden="true">#</a> 反向引用</h4><ul><li>使用反斜线\后跟一个数字来表示。数字用来表示需要引用的分组组号</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 匹配两个数字连续出现两次的目标串(如：1212、2424)</span>
<span class="token punctuation">(</span>\d\d<span class="token punctuation">)</span>\<span class="token number">1</span> <span class="token number">12123233</span> 
<span class="token comment">// 匹配一次(\d\d表示匹配两个数字，括号括起来表示是一个分组,\1表示重复这个分组一次)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 匹配html标签</span>
<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span>a<span class="token operator">-</span>zA<span class="token operator">-</span><span class="token constant">Z</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token operator">?</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token operator">|</span>\n<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">?</span><span class="token operator">&lt;</span><span class="token operator">/</span>\<span class="token number">1</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;vId&quot;</span><span class="token operator">&gt;</span>我知道<span class="token operator">&lt;</span>未来<span class="token operator">&gt;</span>的<span class="token operator">&lt;</span>a<span class="token operator">&gt;</span>路<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>很<span class="token operator">&lt;</span>a<span class="token operator">&gt;</span>不好走<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token comment">// 匹配一次（([a-zA-Z]+)是前面的标签名，.*?勉强模式匹配多个非换行字符的标签属性,(.|\n)*.?勉强模式匹配标签中间内容，\1重复前面的标签名）</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="非捕获组" tabindex="-1"><a class="header-anchor" href="#非捕获组" aria-hidden="true">#</a> 非捕获组</h4><ul><li>概要 <ul><li>分组括号里第一个是?就是非捕获组(不计算在分组里面)</li><li>好处：不会将匹配到的字符存储在内存中，从而节省内存</li></ul></li><li>分类 <ul><li><code>(?:Pattern)</code></li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 匹配industry或者Industries</span>
<span class="token comment">// 这种情况有分组</span>
<span class="token function">industr</span><span class="token punctuation">(</span>y<span class="token operator">|</span>ies<span class="token punctuation">)</span>
<span class="token comment">// 改为没有分组的(节省内存)</span>
<span class="token function">industr</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">:</span>y<span class="token operator">|</span>ies<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="零宽度断言" tabindex="-1"><a class="header-anchor" href="#零宽度断言" aria-hidden="true">#</a> 零宽度断言</h4><ul><li>后顾js不支持</li></ul><table><thead><tr><th>表达式</th><th>含义</th></tr></thead><tbody><tr><td>(?=pattern)</td><td>正向肯定查找(前瞻),后面必须跟着什么</td></tr><tr><td>(?!pattern)</td><td>正向否定查找(前瞻)，后面不能跟着什么</td></tr><tr><td>(?&lt;=pattern)</td><td>反向肯定条件查找(后顾),不捕获</td></tr><tr><td>(?&lt;!pattern)</td><td>反向否定条件查找（后顾）</td></tr></tbody></table><table><thead><tr><th>表达式</th><th>含义</th><th>添加时间</th></tr></thead><tbody><tr><td>x(?=y)</td><td>先行断言，仅匹配被y跟随的x。</td><td></td></tr><tr><td>x(?!y)</td><td>先行否定断言，仅匹配不被y跟随的x。</td><td></td></tr><tr><td>(?&lt;=y)x</td><td>后行断言，仅匹配x在y后面</td><td>ES6</td></tr><tr><td>(?&lt;!y)x</td><td>后行否定断言，仅匹配x不在y后面</td><td>ES6</td></tr></tbody></table><ul><li>例：正则表达式(?&lt;!4)56(?=9) <ul><li>答：文本56前面不能是4，后面必须是9组成，因此5569匹配，4569不匹配</li></ul></li><li>例：提取字符串da12bka3434bdca4343bdca234bm中包含在字符a和b之间的数字，但是这个a之前的字符不能是c，b后面的字符必须是d才能提取。 <ul><li>答：通过添加分组拿到分组内容 [^c]a(\d+)bd，通过零宽度断言，去掉前后分组，拿到剩下中间的一个分组 (?&lt;=[^c]a)\d+(?=bd)</li></ul></li></ul><h4 id="模式修政符" tabindex="-1"><a class="header-anchor" href="#模式修政符" aria-hidden="true">#</a> 模式修政符</h4><ul><li>可组合搭配使用</li></ul><table><thead><tr><th>表达式</th><th>含义</th><th>添加时间</th></tr></thead><tbody><tr><td>i</td><td>不区分大小写</td><td></td></tr><tr><td>g</td><td>全局匹配</td><td></td></tr><tr><td>m</td><td>多行修饰符，使^和$匹配每一行的行首和行尾</td><td></td></tr><tr><td>s</td><td>设置为dotAll模式，使.可以匹配任意单个字符</td><td>ES6</td></tr><tr><td>x</td><td></td><td></td></tr><tr><td>e</td><td></td><td></td></tr><tr><td>u</td><td>处理大于\uFFFF的 Unicode 字符</td><td>ES6</td></tr><tr><td>y</td><td>与g修饰符类似，也是全局匹配，但匹配必须从剩余的第一个位置开始</td><td>ES6</td></tr></tbody></table><h4 id="边界匹配器" tabindex="-1"><a class="header-anchor" href="#边界匹配器" aria-hidden="true">#</a> 边界匹配器</h4><table><thead><tr><th>表达式</th><th>含义</th></tr></thead><tbody><tr><td>^</td><td>行首 (中括号外面表示开头，中括号里面表示取反)</td></tr><tr><td>$</td><td>行尾</td></tr><tr><td>\b</td><td>匹配一个单词边界</td></tr><tr><td>\B</td><td>匹配非单词边界</td></tr></tbody></table><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code>I say thank you
thank you 
thank you all the same
<span class="token comment">&lt;!-- 查找以thank开头的行：^thank，匹配两项--&gt;</span>
<span class="token comment">&lt;!-- 查找以thank开头以same结尾的行：^thank.*same$，匹配一项 --&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="regexp-​-1-9" tabindex="-1"><a class="header-anchor" href="#regexp-​-1-9" aria-hidden="true">#</a> RegExp.​$1...$9</h4><ul><li>值为String类型</li><li>返回上一次正则表达式匹配中，第n个子表达式所匹配的文本。（只保存最前面的9个匹配文本。）</li></ul><h4 id="p-和-p" tabindex="-1"><a class="header-anchor" href="#p-和-p" aria-hidden="true">#</a> \p{...}和\P{...}</h4><ul><li>允许正则表达式匹配符合 Unicode 某种属性的所有字符</li><li>这两种类只对 Unicode 有效，所以使用的时候一定要加上u修饰符。</li><li>由于 Unicode 的各种属性非常多，所以这种新的类的表达能力非常强。<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 匹配所有数字</span>
<span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\p{Number}+$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">u</span></span><span class="token punctuation">;</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;²³¹¼½¾&#39;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;㉛㉜㉝&#39;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;ⅠⅡⅢⅣⅤⅥⅦⅧⅨⅩⅪⅫ&#39;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token comment">// 匹配所有空格</span>
\p<span class="token punctuation">{</span>White_Space<span class="token punctuation">}</span>

<span class="token comment">// 匹配各种文字的所有字母，等同于 Unicode 版的 \w</span>
<span class="token punctuation">[</span>\p<span class="token punctuation">{</span>Alphabetic<span class="token punctuation">}</span>\p<span class="token punctuation">{</span>Mark<span class="token punctuation">}</span>\p<span class="token punctuation">{</span>Decimal_Number<span class="token punctuation">}</span>\p<span class="token punctuation">{</span>Connector_Punctuation<span class="token punctuation">}</span>\p<span class="token punctuation">{</span>Join_Control<span class="token punctuation">}</span><span class="token punctuation">]</span>

<span class="token comment">// 匹配各种文字的所有非字母的字符，等同于 Unicode 版的 \W</span>
<span class="token punctuation">[</span><span class="token operator">^</span>\p<span class="token punctuation">{</span>Alphabetic<span class="token punctuation">}</span>\p<span class="token punctuation">{</span>Mark<span class="token punctuation">}</span>\p<span class="token punctuation">{</span>Decimal_Number<span class="token punctuation">}</span>\p<span class="token punctuation">{</span>Connector_Punctuation<span class="token punctuation">}</span>\p<span class="token punctuation">{</span>Join_Control<span class="token punctuation">}</span><span class="token punctuation">]</span>

<span class="token comment">// 匹配 Emoji</span>
<span class="token operator">/</span>\p<span class="token punctuation">{</span>Emoji_Modifier_Base<span class="token punctuation">}</span>\p<span class="token punctuation">{</span>Emoji_Modifier<span class="token punctuation">}</span><span class="token operator">?</span><span class="token operator">|</span>\p<span class="token punctuation">{</span>Emoji_Presentation<span class="token punctuation">}</span><span class="token operator">|</span>\p<span class="token punctuation">{</span>Emoji<span class="token punctuation">}</span>\uFE0F<span class="token operator">/</span>gu

<span class="token comment">// 匹配所有的箭头字符</span>
<span class="token keyword">const</span> regexArrows <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\p{Block=Arrows}+$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">u</span></span><span class="token punctuation">;</span>
regexArrows<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;←↑→↓↔↕↖↗↘↙⇏⇐⇑⇒⇓⇔⇕⇖⇗⇘⇙⇧⇩&#39;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div></li></ul><h4 id="综合实例" tabindex="-1"><a class="header-anchor" href="#综合实例" aria-hidden="true">#</a> 综合实例</h4><ul><li>URL</li></ul><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code>/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]<span class="token italic"><span class="token punctuation">*</span><span class="token content">)</span><span class="token punctuation">*</span></span>\/?$/
<span class="token comment">&lt;!-- http或者https开头，http和https可有可无，数字或者小写字母或者.或者-有一个及以上，然后.，然后2-6个小写字母或者.的字符串，然后单词或者空格或者.或者-有0个及以上，整个分组0个及以上，然后/有或者没有，结束。 --&gt;</span>
/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([?=&amp;\/\w \.-]<span class="token italic"><span class="token punctuation">*</span><span class="token content">)</span><span class="token punctuation">*</span></span>\/?$/
<span class="token comment">&lt;!-- 修改加上?=&amp;后可匹配带参数url --&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="check" data-v-73689c06><input type="checkbox" id="date" data-v-73689c06><label for="date" data-v-73689c06></label></div> ## 内置对象-日期函数 ```js // 没有参数,表示实例化时刻的日期和时间 new Date(); // Unix时间戳,它是一个整数值，表示自1970年1月1日00:00:00 UTC（the Unix epoch）以来的毫秒数 new Date(value); // 时间戳字符串,该字符串应该能被 Date.parse() 正确方法识别 new Date(dateString); // 分别提供日期与时间的每一个成员,没有提供的成员将使用最小可能值（对日期为1，其他为0）。 new Date(year, monthIndex [, day [, hours [, minutes [, seconds [, milliseconds]]]]]); ``` <div class="check" data-v-73689c06><input type="checkbox" id="date2" data-v-73689c06><label for="date2" data-v-73689c06></label></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 返回自 1970-1-1 00:00:00  UTC（世界标准时间）至今所经过的毫秒数。</span>
<span class="token keyword">var</span> dt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

dt<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 返回从1970-1-1 00:00:00 UTC（协调世界时）到该日期经过的毫秒数，</span>
dt<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 年</span>
dt<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 月（0 - 11）</span>
dt<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 日（1 - 31）</span>
dt<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 星期(0-6)</span>
dt<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 小时（0 - 23）</span>
dt<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 分钟（0 - 59）</span>
dt<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 秒（0 - 59）</span>

dt<span class="token punctuation">.</span><span class="token function">setTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 通过指定从 1970-1-1 00:00:00 UTC 开始经过的毫秒数来设置日期对象的时间，</span>
dt<span class="token punctuation">.</span><span class="token function">setFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 设置完整年份（四位数年份是四个数字）。</span>
dt<span class="token punctuation">.</span><span class="token function">setMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 设置月份。</span>
dt<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 设置月份中的第几天。</span>
dt<span class="token punctuation">.</span><span class="token function">setHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 设置小时数。</span>
dt<span class="token punctuation">.</span><span class="token function">setMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 设置分钟数。</span>
dt<span class="token punctuation">.</span><span class="token function">setSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 设置秒数。</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><ul><li>获取<code>2017-06-10</code>格式的日期</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token parameter">dt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>dt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        dt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> year <span class="token operator">=</span> dt<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> month <span class="token operator">=</span> dt<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token keyword">var</span> date <span class="token operator">=</span> dt<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>month <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 强制类型转换</span>
        month <span class="token operator">=</span> <span class="token string">&#39;0&#39;</span> <span class="token operator">+</span> month
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>date <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 强制类型转换</span>
        date <span class="token operator">=</span> <span class="token string">&#39;0&#39;</span> <span class="token operator">+</span> date
    <span class="token punctuation">}</span>
    <span class="token comment">// 强制类型转换</span>
    <span class="token keyword">return</span> year <span class="token operator">+</span> <span class="token string">&#39;-&#39;</span> <span class="token operator">+</span> month <span class="token operator">+</span> <span class="token string">&#39;-&#39;</span> <span class="token operator">+</span> date
<span class="token punctuation">}</span>
<span class="token keyword">var</span> dt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> formatDate <span class="token operator">=</span> <span class="token function">formatDate</span><span class="token punctuation">(</span>dt<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>formatDate<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="内置对象-数组常用-api" tabindex="-1"><a class="header-anchor" href="#内置对象-数组常用-api" aria-hidden="true">#</a> 内置对象-数组常用 API</h2><div class="check" data-v-73689c06><input type="checkbox" id="arrayApi" data-v-73689c06><label for="arrayApi" data-v-73689c06></label></div> | 功能 | API | es6 | | :--------- | ---------------------------------------: | ------------------: | | 合并、切割 | concat,join,slice | | | 添加 | unshift(从头),push(从末尾) | | | 删除 | shift(从头),pop(从末尾) | | | 删除并添加 | splice | copy​Within,fill | | 排序 | sort,reverse | | | 遍历 | map,forEach,reduce | entries,keys,values | | 筛选 | filter,every,some | | | 查找 | indexOf,last​IndexOf | find,find​Index,includes | | 拉平 | flat,flatMap | | | 自带 | Array​.isArray | Array.from,Array.of | <h3 id="数组自带方法" tabindex="-1"><a class="header-anchor" href="#数组自带方法" aria-hidden="true">#</a> 数组自带方法</h3><div class="check" data-v-73689c06><input type="checkbox" id="isarray" data-v-73689c06><label for="isarray" data-v-73689c06></label></div> - Array​.isArray() #### ES6新增 <div class="check" data-v-73689c06><input type="checkbox" id="from" data-v-73689c06><label for="from" data-v-73689c06></label></div> - Array​.from(object, mapFunction, thisValue) - 将非数组转为数组（`拥有 length 属性的对象（类数组对象）`和`可迭代的对象`）。 - 第二个参数(类似map方法),用来对每个元素进行处理，将处理后的值放入返回的数组。 - 第三个参数，用来绑定map方法中用到的this。 <div class="check" data-v-73689c06><input type="checkbox" id="of" data-v-73689c06><label for="of" data-v-73689c06></label></div> - Array.of() - 替代Array()或new Array() - Array() - 参数为1个时，会指定数组的长度 - Array.of() - 参数为1个时，依然是一个数组 ```js Array(3) // [, , ,] Array.of(1) // [1] ``` ### 实例方法 #### ES5 :::warning 合并、切割 <div class="check" data-v-73689c06><input type="checkbox" id="concat" data-v-73689c06><label for="concat" data-v-73689c06></label></div> - Array​.prototype​.concat(arrayX,arrayX,......,arrayX) - 返回被连接数组的一个副本。 - 不改变现有的数组 <div class="check" data-v-73689c06><input type="checkbox" id="join" data-v-73689c06><label for="join" data-v-73689c06></label></div> - Array​.prototype​.join() <div class="check" data-v-73689c06><input type="checkbox" id="slice" data-v-73689c06><label for="slice" data-v-73689c06></label></div> - Array​.prototype​.slice(start,end) - 返回选定的元素。 - 包前不包后 - start默认为0，负数指倒数开始，end默认到最后，负数指倒数结束 ::: :::warning 添加 <div class="check" data-v-73689c06><input type="checkbox" id="unshift" data-v-73689c06><label for="unshift" data-v-73689c06></label></div> - Array​.prototype​.unshift() <div class="check" data-v-73689c06><input type="checkbox" id="push" data-v-73689c06><label for="push" data-v-73689c06></label></div> - Array​.prototype​.push(newelement1,newelement2,....,newelementX) ::: :::warning 删除 <div class="check" data-v-73689c06><input type="checkbox" id="shift" data-v-73689c06><label for="shift" data-v-73689c06></label></div> - Array​.prototype​.shift() <div class="check" data-v-73689c06><input type="checkbox" id="pop" data-v-73689c06><label for="pop" data-v-73689c06></label></div> - Array​.prototype​.pop() ::: :::warning 删除并添加 <div class="check" data-v-73689c06><input type="checkbox" id="splice" data-v-73689c06><label for="splice" data-v-73689c06></label></div> - Array​.prototype​.splice(index,howmany,item1,.....,itemX) - 返回被删除的元素的数组。 ::: :::warning 排序 <div class="check" data-v-73689c06><input type="checkbox" id="sort" data-v-73689c06><label for="sort" data-v-73689c06></label></div> - Array​.prototype​.sort() - 默认从小到大arr.sort() - 改变原数组 ```js arr.sort(function(a, b) { // 从小到大排序 return a - b // 从大到小排序 // return b - a }) ``` <div class="check" data-v-73689c06><input type="checkbox" id="reverse" data-v-73689c06><label for="reverse" data-v-73689c06></label></div> - Array​.prototype​.reverse() ::: :::warning 遍历 <div class="check" data-v-73689c06><input type="checkbox" id="map" data-v-73689c06><label for="map" data-v-73689c06></label></div><ul><li>Array​.prototype​.map(function(currentValue,index,arr){},this.Value) <ul><li>对数组每个元素进行操作，创建一个新数组<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> arr2 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;&lt;b&gt;&#39;</span> <span class="token operator">+</span> item <span class="token operator">+</span> <span class="token string">&#39;&lt;/b&gt;&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul></li></ul><div class="check" data-v-73689c06><input type="checkbox" id="foreach" data-v-73689c06><label for="foreach" data-v-73689c06></label></div><ul><li>Array​.prototype​.for​Each(function (item, index) {}) <ul><li>遍历数组的所有元素</li></ul></li></ul><div class="check" data-v-73689c06><input type="checkbox" id="reduce" data-v-73689c06><label for="reduce" data-v-73689c06></label></div><ul><li>Array​.prototype​.reduce(callback(accumulator, currentValue[, index[, array]])[, initialValue]) <ul><li>对数组中的每个元素执行一个由您提供的reducer函数(升序执行)，将其结果汇总为单个返回值。</li><li>第一个函数返回总值和每一项的计算，对数组进行计算后得到结果</li><li>第二个参数是第一次调用callback函数时的第一个参数的值。 如果没有提供初始值，则将使用数组中的第一个元素。 在没有初始值的空数组上调用 reduce 将报错。</li></ul></li></ul><div class="check" data-v-73689c06><input type="checkbox" id="checkQuchong" data-v-73689c06><label for="checkQuchong" data-v-73689c06></label></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 数组去重</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">init<span class="token punctuation">,</span> current</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>init<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">||</span> init<span class="token punctuation">[</span>init<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!==</span> current<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        init<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> init<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[1,2,3,4,5]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>Array​.prototype​.reduce​Right() :::</li></ul><div class="check" data-v-73689c06><input type="checkbox" id="shaixuan" data-v-73689c06><label for="shaixuan" data-v-73689c06></label></div><div class="custom-container warning"><p class="custom-container-title">筛选</p><ul><li>Array​.prototype​.filter(function(currentValue,index,arr){},this.Value) <ul><li>第一个函数返回筛选条件，筛选符合条件的元素</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token keyword">var</span> arr2 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li>Array​.prototype​.every() <ul><li>所有的数组元素，都满足一个条件，返回布尔值<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>arr<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul></li><li>Array​.prototype​.some() <ul><li>只要有一个满足条件即可，返回布尔值<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>arr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul></li><li>Array​.prototype​.indexOf()</li><li>Array​.prototype​.last​IndexOf()</li></ul></div><div class="custom-container warning"><p class="custom-container-title">转换</p><ul><li>Array​.prototype​.toString() <ul><li>把数组转换为字符串，并返回结果。(数组中的元素之间用逗号分隔)</li></ul></li><li>Array​.prototype​.toLocale​String()</li></ul></div><h4 id="es6新增" tabindex="-1"><a class="header-anchor" href="#es6新增" aria-hidden="true">#</a> ES6新增</h4><div class="check" data-v-73689c06><input type="checkbox" id="copyWithin" data-v-73689c06><label for="copyWithin" data-v-73689c06></label></div> - Array​.prototype​.copy​Within(target, start = 0, end = this.length) - 在当前数组内部，将指定位置的成员复制到其他位置（会覆盖原有成员），然后返回当前数组。 - 会修改当前数组 ```js [1, 2, 3, 4, 5].copyWithin(0, 3) // [4, 5, 3, 4, 5] ``` <div class="check" data-v-73689c06><input type="checkbox" id="find" data-v-73689c06><label for="find" data-v-73689c06></label></div> - Array​.prototype​.find() - 第一个参数是一个回调函数，所有数组成员依次执行该回调函数， - 找出第一个返回值为true的成员，返回该成员。没有符合条件的，返回undefined。 - 第二个参数（回调函数中的this指向） ```js [1, 5, 10, 15].find(function(value, index, arr) { return value &gt; 9; }) // 10 ``` <div class="check" data-v-73689c06><input type="checkbox" id="findIndex" data-v-73689c06><label for="findIndex" data-v-73689c06></label></div> - Array​.prototype​.find​Index() - 第一个参数是一个回调函数，所有数组成员依次执行该回调函数， - 返回第一个符合条件的数组成员的位置，如果所有成员都不符合条件，则返回-1。 - 第二个参数（回调函数中的this指向） ```js [1, 5, 10, 15].findIndex(function(value, index, arr) { return value &gt; 9; }) // 2 ``` <div class="check" data-v-73689c06><input type="checkbox" id="indexOfqubie" data-v-73689c06><label for="indexOfqubie" data-v-73689c06></label></div> :::tip 和indexOf区别 - indexOf:找不到NaN - find,findIndex:可以借助Object.is方法找到。 ::: <div class="check" data-v-73689c06><input type="checkbox" id="fill" data-v-73689c06><label for="fill" data-v-73689c06></label></div> - Array​.prototype​.fill(value, start, end) - 使用给定值，填充一个数组。 - start：填充起始位置，可以省略。end：填充结束位置，可以省略，实际结束位置是end-1。 ```js let a1 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11] a1.fill(7) // 7,7,7,7,7,7,7,7,7,7,7 ``` <div class="check" data-v-73689c06><input type="checkbox" id="entries" data-v-73689c06><label for="entries" data-v-73689c06></label></div> - Array​.prototype​.entries() - 键值对遍历 - 返回一个遍历器对象,可以用for...of循环进行遍历 ```js for (let [index, elem] of [&#39;a&#39;, &#39;b&#39;].entries()) { console.log(index, elem); } ``` - Array​.prototype​.keys() - 键名遍历 - 返回一个遍历器对象,可以用for...of循环进行遍历 ```js for (let index of [&#39;a&#39;, &#39;b&#39;].keys()) { console.log(index); } ``` - Array​.prototype​.values() - 键值遍历 - 返回一个遍历器对象,可以用for...of循环进行遍历 ```js for (let elem of [&#39;a&#39;, &#39;b&#39;].values()) { console.log(elem); } ``` <div class="check" data-v-73689c06><input type="checkbox" id="includes" data-v-73689c06><label for="includes" data-v-73689c06></label></div> - Array​.prototype​.includes() - 返回某个数组是否包含给定的值 - 第二个参数为负数，则表示倒数的位置 :::tip - indexOf:-1不直观，NaN误判 - includes：直观，NaN准确判断 ::: <div class="check" data-v-73689c06><input type="checkbox" id="flat" data-v-73689c06><label for="flat" data-v-73689c06></label></div> - Array​.prototype​.flat() - 返回一个新数组，将嵌套的数组“拉平”，变成一维的数组 - 第一个参数是整数，表示想要拉平的层数，默认为1。(Infinity表示不管多少层都拉平) ```js [1, [2, [3]]].flat(Infinity) // [1, 2, 3] ``` - Array​.prototype​.flatMap() - 对原数组的每个成员执行一个函数（相当map），然后对返回值组成的数组执行flat()方法。 - 第二个参数绑定遍历函数里面的this。 - flatMap只能展开一层数组。 ```js arr.flatMap(function callback(currentValue[, index[, array]]) { // ... }[, thisArg]) // 相当于 [[[2]], [[4]], [[6]], [[8]]].flat() [1, 2, 3, 4].flatMap(x =&gt; [[x * 2]]) // [[2], [4], [6], [8]] ``` <h3 id="扩展运算符-数组-es6" tabindex="-1"><a class="header-anchor" href="#扩展运算符-数组-es6" aria-hidden="true">#</a> 扩展运算符（数组）[ES6]</h3><ul><li>三个点（...）,将一个数组转为用逗号分隔的参数序列。</li></ul><div class="check" data-v-73689c06><input type="checkbox" id="..." data-v-73689c06><label for="..." data-v-73689c06></label></div> ```js console.log(...[1, 2, 3]) // 1 2 3 function push(array, ...items) { array.push(...items); } ``` - 可以放置表达式。 - 如果扩展运算符后面是一个空数组，则不产生任何效果。 - 只有函数调用时，扩展运算符才可以放在圆括号中，否则会报错。 - 替代函数的 apply 方法 - 由于扩展运算符可以展开数组，所以不再需要apply方法，将数组转为函数的参数了。 <div class="check" data-v-73689c06><input type="checkbox" id="zhankai" data-v-73689c06><label for="zhankai" data-v-73689c06></label></div><pre><code>&lt;absolute-box&gt;利用函数apply调用时,参数是数组，调用后转为函数参数序列的特点&lt;/absolute-box&gt;

```js
// ES5 的写法
Math.max.apply(null, [14, 3, 77])

// ES6 的写法
Math.max(...[14, 3, 77])

// 等同于
Math.max(14, 3, 77);
```
</code></pre><ul><li>数组的扩展运算符应用 <div class="check" data-v-73689c06><input type="checkbox" id="fuzhishuzu" data-v-73689c06><label for="fuzhishuzu" data-v-73689c06></label></div> - 复制数组（浅拷贝） ```js // 写法一 const a2 = [...a1]; // 写法二 const [...a2] = a1; ``` </li></ul><div class="check" data-v-73689c06><input type="checkbox" id="hebingshuzu" data-v-73689c06><label for="hebingshuzu" data-v-73689c06></label></div> - 合并数组（浅拷贝） ```js // ES5 的合并数组 arr1.concat(arr2, arr3); // [ &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39; ] <pre><code>// ES6 的合并数组
[...arr1, ...arr2, ...arr3]
// [ &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39; ]
```
</code></pre><ul><li>将字符串转为数组（能够正确识别四个字节的 Unicode 字符。<code>Array.from()</code>也可以）<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token operator">...</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">]</span>
<span class="token comment">// [ &quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot; ]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li>将任意有Iterator接口的对象转为数组（如node节点集合,set map集合等）</li></ul><div class="check" data-v-73689c06><input type="checkbox" id="kuozhanhefromqubie" data-v-73689c06><label for="kuozhanhefromqubie" data-v-73689c06></label></div> :::tip - 扩展运算符：转有`可迭代的对象`为数组 - Array.from：转`拥有 length 属性的对象（类数组对象）`和`可迭代的对象`为数组 ::: <h3 id="将空位转为undefined-es6" tabindex="-1"><a class="header-anchor" href="#将空位转为undefined-es6" aria-hidden="true">#</a> 将空位转为undefined[ES6]</h3><ul><li>ES6 明确将空位转为undefined。</li></ul><div class="check" data-v-73689c06><input type="checkbox" id="stringapi" data-v-73689c06><label for="stringapi" data-v-73689c06></label></div> ## 内置对象-字符串常用 API <table><thead><tr><th style="text-align:left;">功能</th><th style="text-align:right;">ES5 API</th><th style="text-align:right;">ES6 API</th></tr></thead><tbody><tr><td style="text-align:left;">查找</td><td style="text-align:right;">indexOf,lastIndexOf,charAt,</td><td style="text-align:right;">includes,startsWith,endsWith</td></tr><tr><td style="text-align:left;">合并，切割</td><td style="text-align:right;">concat,splite,slice[),subString[)</td><td style="text-align:right;"></td></tr><tr><td style="text-align:left;">匹配</td><td style="text-align:right;">match,replace,search</td><td style="text-align:right;">matchAll</td></tr><tr><td style="text-align:left;">格式化</td><td style="text-align:right;">toLowerCase,toUpperCase,trim,repeat,charCodeAt</td><td style="text-align:right;">padStart,padEnd,trimStart,trimEnd</td></tr></tbody></table><h3 id="查找" tabindex="-1"><a class="header-anchor" href="#查找" aria-hidden="true">#</a> 查找</h3><ul><li>charAt()</li><li>indexOf()</li><li>lastIndexOf()</li><li>includes() <ul><li>返回布尔值，表示是否找到了参数字符串。</li><li>支持第二个参数，表示开始搜索的位置。</li></ul></li><li>startsWith() <ul><li>返回布尔值，表示参数字符串是否在原字符串的头部。</li><li>支持第二个参数，表示开始搜索的位置。</li></ul></li><li>endsWith() <ul><li>返回布尔值，表示参数字符串是否在原字符串的尾部。</li><li>支持第二个参数，表示开始搜索的位置。</li></ul></li></ul><div class="check" data-v-73689c06><input type="checkbox" id="stringconcat" data-v-73689c06><label for="stringconcat" data-v-73689c06></label></div> ### 合并、切割 - concat() - split([separator[, limit]]) - 把一个字符串按分隔符分割成字符串数组 - separator【必需】字符串或正则表达式(如果空字符串(&quot;&quot;)被用作分隔符，则字符串会在每个字符之间分割。如果没有找到或者省略了分隔符，则该数组包含一个由整个字符串组成的元素) - limit【可选】返回数组的最大长度 - slice(start,end) - 提取字符串的某个部分，并以新的字符串返回被提取的部分。 - substring(start,stop) - 提取字符串中介于两个指定下标之间的字符。返回一个字符串在开始索引到结束索引之间的一个子集 <h3 id="匹配" tabindex="-1"><a class="header-anchor" href="#匹配" aria-hidden="true">#</a> 匹配</h3><div class="check" data-v-73689c06><input type="checkbox" id="replace" data-v-73689c06><label for="replace" data-v-73689c06></label></div> - str.replace(regexp|substr, newSubStr|function) - 替换 - 第二个参数是字符串 - 第二个参数是函数 ```js  &#39;2015-01-02&#39;.replace(re, ( matched, // 整个匹配结果 2015-01-02 capture1, // 第一个组匹配 2015 capture2, // 第二个组匹配 01 capture3, // 第三个组匹配 02 position, // 匹配开始的位置 0 S, // 原字符串 2015-01-02 groups // 具名组构成的一个对象 {year, month, day}[ES6] ) =&gt; { let {day, month, year} = groups; return `${day}/${month}/${year}`; }); ``` <div class="check" data-v-73689c06><input type="checkbox" id="search" data-v-73689c06><label for="search" data-v-73689c06></label></div><ul><li><p>str.search(regexp)</p><ul><li>对正则表达式和指定字符串进行匹配搜索</li><li>匹配成功，返回首次匹配项的索引，否则返回-1</li></ul><div class="check" data-v-73689c06><input type="checkbox" id="match" data-v-73689c06><label for="match" data-v-73689c06></label></div></li><li><p>str.match(regexp)</p><ul><li>可在字符串内检索指定的值，或找到一个或多个正则表达式的匹配。</li><li>如果使用g标志，则将返回与完整正则表达式匹配的所有结果，但不会返回捕获组。 如果未使用g标志，则仅返回第一个完整匹配及其相关的捕获组（Array）。</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&#39;For more information, see Chapter 3.4.5.1&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">see (chapter \d+(\.\d)*)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> found <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>found<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// logs [ &#39;see Chapter 3.4.5.1&#39;,</span>
<span class="token comment">//        &#39;Chapter 3.4.5.1&#39;,</span>
<span class="token comment">//        &#39;.1&#39;,</span>
<span class="token comment">//        index: 22,</span>
<span class="token comment">//        input: &#39;For more information, see Chapter 3.4.5.1&#39; ]</span>

<span class="token comment">// &#39;see Chapter 3.4.5.1&#39; 是整个匹配。</span>
<span class="token comment">// &#39;Chapter 3.4.5.1&#39; 被&#39;(chapter \d+(\.\d)*)&#39;捕获。</span>
<span class="token comment">// &#39;.1&#39; 是被&#39;(\.\d)&#39;捕获的最后一个值。</span>
<span class="token comment">// &#39;index&#39; 属性(22) 是整个匹配从零开始的索引。</span>
<span class="token comment">// &#39;input&#39; 属性是被解析的原始字符串。</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&#39;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> regexp <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[A-E]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> matches_array <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regexp<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches_array<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>str.matchAll() <ul><li>如果一个正则表达式在字符串里面有多个匹配，一般使用g修饰符或y修饰符，在循环里面逐一取出。</li><li>返回一个正则表达式在当前字符串的所有匹配(返回一个遍历器,用for...of循环)</li><li>转数组（...运算符或Array.from方法）</li></ul></li></ul><div class="check" data-v-73689c06><input type="checkbox" id="stringFormat" data-v-73689c06><label for="stringFormat" data-v-73689c06></label></div> ### 格式化 - toUpperCase() - toLowerCase() - trim() - trimStart(),trimEnd() - trimStart()消除字符串头部的空格 - trimEnd()消除尾部的空格。 - 返回新字符串，不修改原始字符串。 - str.repeat(count) - 返回一个新字符串，表示将原字符串重复n次。参数必须为正数 ```js &quot;abc&quot;.repeat(-1) // RangeError: 必须为正数 &quot;abc&quot;.repeat(0) // &quot;&quot; &quot;abc&quot;.repeat(1) // &quot;abc&quot; &quot;abc&quot;.repeat(2) // &quot;abcabc&quot; ``` - str.padStart()，str.padEnd() - 如果某个字符串不够指定长度，会在头部或尾部补全。padStart()用于头部补全，padEnd()用于尾部补全。 - 如果原字符串的长度，等于或大于最大长度，则字符串补全不生效，返回原字符串。 - 省略第二个参数，默认使用空格补全长度 - 用途 - 为数值补全指定位数 - 提示字符串格式 ```js &#39;x&#39;.padStart(5, &#39;ab&#39;) // &#39;ababx&#39; &#39;x&#39;.padStart(4, &#39;ab&#39;) // &#39;abax&#39; <pre><code>&#39;x&#39;.padEnd(5, &#39;ab&#39;) // &#39;xabab&#39;
&#39;x&#39;.padEnd(4, &#39;ab&#39;) // &#39;xaba&#39;
```
```js
// 提示字符串格式
12&#39;.padStart(10, &#39;YYYY-MM-DD&#39;) // &quot;YYYY-MM-12&quot;
&#39;09-12&#39;.padStart(10, &#39;YYYY-MM-DD&#39;) // &quot;YYYY-09-12&quot;
```
</code></pre><ul><li>toString()</li><li>valueOf()</li><li>charCodeAt(index) 单个字符转ascll码的index</li></ul><h2 id="内置对象-对象常用-api" tabindex="-1"><a class="header-anchor" href="#内置对象-对象常用-api" aria-hidden="true">#</a> 内置对象-对象常用 API</h2><h3 id="属性" tabindex="-1"><a class="header-anchor" href="#属性" aria-hidden="true">#</a> 属性</h3><div class="check" data-v-73689c06><input type="checkbox" id="shuxingming" data-v-73689c06><label for="shuxingming" data-v-73689c06></label></div> - 属性名 - obj.xxx(xxx是变量要用[xxx]) <div class="check" data-v-73689c06><input type="checkbox" id="shuxingbianli" data-v-73689c06><label for="shuxingbianli" data-v-73689c06></label></div> - 属性遍历 - for-in ```js var obj = { x: 100, y: 200, z: 300 } var key for (key in obj) { if (obj.hasOwnProperty(key)) { console.log(key, obj[key]) } } ``` <div class="check" data-v-73689c06><input type="checkbox" id="objectin" data-v-73689c06><label for="objectin" data-v-73689c06></label></div> - `in`运算符 - 如果指定的属性在指定的对象或其原型链中，则in 运算符返回true。 ### Object 构造函数的方法 #### ES5 <div class="check" data-v-73689c06><input type="checkbox" id="create" data-v-73689c06><label for="create" data-v-73689c06></label></div> - Object.create(proto, [propertiesObject]) - 使用指定的原型对象和属性创建一个新对象。 <div class="custom-container tip"><p class="custom-container-title">Object.create(null)</p><p>使用create创建的对象，没有任何属性,把它当作一个非常纯净的map来使用，我们可以自己定义hasOwnProperty、toString方法,完全不必担心会将原型链上的同名方法覆盖掉 在我们使用for..in循环的时候会遍历对象原型链上的属性，使用create(null)就不必再对属性进行检查了 var ns = Object.create(null); if (typeof Object.create !== &quot;function&quot;) { Object.create = function (proto) { function F() {} F.prototype = proto; return new F(); }; } console.log(ns) console.log(Object.getPrototypeOf(ns));</p></div><div class="check" data-v-73689c06><input type="checkbox" id="defineProperty" data-v-73689c06><label for="defineProperty" data-v-73689c06></label></div> - Object.defineProperty() - 在一个对象上定义一个新属性，或者修改一个对象的现有属性， 并返回这个对象。 - 添加的属性不可修改 - 属性无法看到但是可以取到（可以枚举） - 描述符 - configurable(为true时属性描述符才能被改变，属性也能被删除。默认false) - enumerable(为true时出现在对象的枚举属性中，默认false)。 - 数据描述符和存取描述符二选一 - 数据描述符 - value(任意javascript值,默认undefined) - writable(为true时value能被修改，默认false) - 存取描述符 - get - 给属性提供 getter 的方法，访问属性时被执行 - 默认undefined - 没有参数传入，会传入this对象 - set - 给属性提供 setter 的方法，属性值修改时触发 - 默认undefined - 一个参数：新值 - 使用场景(`class的实现``vue的MVVM``mobx``装饰器``koa`) <div class="check" data-v-73689c06><input type="checkbox" id="getset" data-v-73689c06><label for="getset" data-v-73689c06></label></div> ```js let obj={} let temp; // get第一种写法 Object.defineProperty(obj,&#39;name&#39;,{ get(){ return temp }, set(val){ temp=val; } }) // get第二种写法 let obj={ temp:&#39;&#39;, get PI(){ return this.temp }, set PI(val){ this.temp=val; } } obj.name=&#39;小明&#39; ``` #### ES6新增 - Object.is(val1,val2) - 与严格比较运算符（===）基本一致(区别：`+0不等于-0`和`NaN等于自身`。) ```js Object.is(+0, -0) // false Object.is(NaN, NaN) // true ``` - 参数 - value1，第一个需要比较的值。 - value2，第二个需要比较的值。 - 返回值 - 表示两个参数是否相同的`布尔值` 。 - 是不是非数 - window.isNaN() - 先把参数转化为数字类型,再判断是不是 NaN - 只要不是数字都满足 - Number.isNaN() - 先判断参数是不是数字类型,不是就返回 false, 是数字类型再进入判断是不是 NaN. - 只有数字中的NaN满足 ```js window.isNaN(&#39;abc&#39;);// true Number.isNaN(&#39;abc&#39;);// false ``` <ul><li><p>Object.assign(target, ...sources)</p><ul><li>合并对象</li><li>只拷贝源对象的自身属性（不拷贝继承属性），也不拷贝不可枚举的属性（enumerable: false）。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> source1 <span class="token operator">=</span> <span class="token punctuation">{</span> b<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> source2 <span class="token operator">=</span> <span class="token punctuation">{</span> c<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> source1<span class="token punctuation">,</span> source2<span class="token punctuation">)</span><span class="token punctuation">;</span>
target <span class="token comment">// {a:1, b:2, c:3}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><ul><li>注意点 <ul><li>浅拷贝</li><li>同名属性覆盖</li><li>可以处理数组（会把数组视为对象）</li><li>如果复制的是个取值函数，会先求值再复制</li></ul></li><li>用途 <ul><li>为对象添加属性</li><li>为对象添加方法</li><li>克隆对象（只克隆对象自身的值）</li><li>合并对个对象</li><li>为属性指定默认值<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token constant">DEFAULTS</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
logLevel<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
outputFormat<span class="token operator">:</span> <span class="token string">&#39;html&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">processContent</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
options <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token constant">DEFAULTS</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ul></li></ul></div></li><li><p>Object.getOwnPropertyDescriptors()</p><ul><li>返回指定对象所有自身属性（非继承属性）的描述对象。</li><li>用途 <ul><li>解决Object.assign()无法正确拷贝get属性和set属性的问题。（配合Object.defineProperties()方法）</li><li>配合Object.create()方法，将对象属性克隆到一个新对象。这属于浅拷贝。</li></ul></li></ul></li><li><p>__proto__属性</p><ul><li>用来读取或设置当前对象的prototype对象。</li><li>最好使用下面的<code>Object.setPrototypeOf()（写操作）</code>、<code>Object.getPrototypeOf()（读操作）</code>、<code>Object.create()（生成操作）</code>代替。</li></ul></li><li><p>Object.setPrototypeOf(object, prototype)</p><ul><li>设置对象的原型（即内部 [[Prototype]] 属性）。</li></ul></li><li><p>Object.getPrototypeOf(obj)</p><ul><li>读取一个对象的原型对象</li></ul></li></ul><div class="check" data-v-73689c06><input type="checkbox" id="objectkeys" data-v-73689c06><label for="objectkeys" data-v-73689c06></label></div><ul><li>Object.keys(obj) <ul><li>返回一个包含所有给定对象自身可枚举属性名称的数组。</li><li>for...of循环</li></ul></li><li>Object.values(obj) <ul><li>返回一个包含所有给定对象自身可枚举属性值的数组。</li><li>for...of循环</li></ul></li><li>Object.entries(obj) <ul><li>返回一个包含所有给定对象自身可枚举属性键值的数组。</li><li>for...of循环</li><li>另一个用处：将对象转为真正的Map结构<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token operator">:</span> <span class="token string">&#39;bar&#39;</span><span class="token punctuation">,</span> baz<span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map <span class="token comment">// Map { foo: &quot;bar&quot;, baz: 42 }</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul></li><li>Object.fromEntries() <ul><li>将一个键值对数组转为对象。<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bar&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">&#39;baz&#39;</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// { foo: &quot;bar&quot;, baz: 42 }</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li>用处 <ul><li>将键值对的数据结构还原为对象（特别适合将 Map 结构转为对象）</li><li>配合URLSearchParams对象，将查询字符串转为对象。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span><span class="token string">&#39;foo=bar&amp;baz=qux&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// { foo: &quot;bar&quot;, baz: &quot;qux&quot; }</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li><li>Object.getOwnPropertySymbols(obj) <ul><li>返回一个数组，成员是当前对象的所有用作属性名的 Symbol 值。</li></ul></li></ul><h3 id="object-实例的方法" tabindex="-1"><a class="header-anchor" href="#object-实例的方法" aria-hidden="true">#</a> Object 实例的方法</h3><ul><li>Object.prototype.hasOwnProperty() <ul><li>返回一个布尔值 ，表示某个对象是否含有指定的属性，而且此属性非原型链继承的。</li></ul></li><li>Object.prototype.isPrototypeOf() <ul><li>返回一个布尔值，表示指定的对象是否在本对象的原型链中。</li></ul></li><li>Object.prototype.toString() <ul><li>返回对象的字符串表示。</li></ul></li><li>Object.prototype.valueOf() <ul><li>返回指定对象的原始值。</li></ul></li></ul><h2 id="内置对象-function-api" tabindex="-1"><a class="header-anchor" href="#内置对象-function-api" aria-hidden="true">#</a> 内置对象-Function API</h2><ul><li>实例的方法 <ul><li>Function.prototype.apply(thisArg, [argsArray]) <ul><li>在一个对象的上下文中应用另一个对象的方法</li><li>参数能够以数组形式传入。(数组元素将作为单独的参数传给 func 函数)</li></ul></li><li>Function.prototype.call(thisArg, arg1, arg2, ...) <ul><li>在一个对象的上下文中应用另一个对象的方法</li><li>参数能够以列表形式传入。</li></ul></li><li>Function.prototype.bind(thisArg[, arg1[, arg2[, ...]]]) <ul><li>在一个对象的上下文中应用另一个对象的方法</li></ul></li></ul></li></ul><div class="custom-container warning"><p class="custom-container-title">注意</p><p>call()方法的作用和 apply() 方法区别</p><ul><li>call()方法接受的是<code>参数列表</code></li><li>apply()方法接受的是一个<code>参数数组</code></li></ul></div><div class="custom-container tip"><p class="custom-container-title">注</p><ul><li>利用apply展开数组</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> numbers<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// expected output: 7</span>
<span class="token keyword">var</span> min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> numbers<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// expected output: 2</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div><p>ES6语法：</p><h3 id="函数参数的默认值-es6" tabindex="-1"><a class="header-anchor" href="#函数参数的默认值-es6" aria-hidden="true">#</a> 函数参数的默认值[ES6]</h3><ul><li>参数默认值是惰性求值的(每次都重新计算默认值表达式的值)</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p <span class="token comment">// { x: 0, y: 0 }</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>与解构赋值默认值结合使用</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 写法一</span>
<span class="token keyword">function</span> <span class="token function">m1</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 写法二</span>
<span class="token keyword">function</span> <span class="token function">m2</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>两种写法都对函数的参数设定了默认值，区别是写法一函数参数的默认值是空对象，但是设置了对象解构赋值的默认值；写法二函数参数的默认值是一个有具体属性的对象，但是没有设置对象解构赋值的默认值。</li><li>如果传入undefined，将触发该参数等于默认值，null则没有这个效果。</li><li>指定了默认值后，length属性将失真。<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">5</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token comment">// 2</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li>设置了参数的默认值，函数进行声明初始化时，参数会形成一个单独的作用域（context）。等到初始化结束，这个作用域就会消失。</li><li>应用 <ul><li>可以指定某一个参数不得省略，如果省略就抛出一个错误</li><li>可以将参数默认值设为undefined，表明这个参数是可以省略的。</li></ul></li></ul><h3 id="rest-参数-es6" tabindex="-1"><a class="header-anchor" href="#rest-参数-es6" aria-hidden="true">#</a> rest 参数[ES6]</h3><ul><li>形式为<code>...变量名</code>，用于获取函数的多余参数</li><li>arguments是类数组，rest参数是真数组</li><li>rest 参数之后不能再有其他参数（即只能是最后一个参数），否则会报错。</li><li>函数的length属性，不包括 rest 参数。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// arguments变量的写法</span>
<span class="token keyword">function</span> <span class="token function">sortNumbers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// rest参数的写法</span>
<span class="token keyword">const</span> <span class="token function-variable function">sortNumbers</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>numbers</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> numbers<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length  <span class="token comment">// 0</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="函数内严格模式" tabindex="-1"><a class="header-anchor" href="#函数内严格模式" aria-hidden="true">#</a> 函数内严格模式</h3><ul><li>规定只要函数参数使用了默认值、解构赋值、或者扩展运算符，那么函数内部就不能显式设定为严格模式，否则会报错。</li></ul><h3 id="函数的name属性" tabindex="-1"><a class="header-anchor" href="#函数的name属性" aria-hidden="true">#</a> 函数的name属性</h3><ul><li>函数的name属性，返回该函数的函数名。（ES6才将其写入了标准）</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
foo<span class="token punctuation">.</span>name <span class="token comment">// &quot;foo&quot;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>如果将一个匿名函数赋值给一个变量</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// ES5</span>
f<span class="token punctuation">.</span>name <span class="token comment">// &quot;&quot;</span>
<span class="token comment">// ES6</span>
f<span class="token punctuation">.</span>name <span class="token comment">// &quot;f&quot;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="箭头函数" tabindex="-1"><a class="header-anchor" href="#箭头函数" aria-hidden="true">#</a> 箭头函数</h3><ul><li>一个参数可以省略圆括号</li><li>可以省略return和{}，如果返回的是一个对象，要用小括号包裹起来</li><li>用处 <ul><li>简化回调函数<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 正常函数写法</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">return</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 箭头函数写法</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x <span class="token operator">*</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul></li><li>注意点 <ul><li>this看定义</li><li>不可以当作构造函数(就是不可以使用new命令)</li><li>没有arguments,可以用 rest 参数代替。</li></ul></li><li>不适用的场合 <ul><li>定义对象的方法，且该方法内部包括this。</li><li>需要动态this的时候</li><li>函数体很复杂，有许多行，或者函数内部有大量的读写操作，不单纯是为了计算值</li></ul></li><li>嵌套的箭头函数</li></ul><h3 id="尾调用优化" tabindex="-1"><a class="header-anchor" href="#尾调用优化" aria-hidden="true">#</a> 尾调用优化</h3><ul><li>指某个函数的最后一步是调用另一个函数。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">g</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>尾调用优化 <ul><li>尾调用由于是函数的最后一步操作，所以不需要保留外层函数的调用帧，因为调用位置、内部变量等信息都不会再用到了，只要直接用内层函数的调用帧，取代外层函数的调用帧就可以了。</li></ul></li><li>尾递归 <ul><li>尾调用自身，就称为尾递归。</li><li>递归非常耗费内存，很容易发生“栈溢出”错误。对于尾递归来说，由于只存在一个调用帧，所以永远不会发生“栈溢出”错误。</li><li>ES6规定所有实现必须部署“尾调用优化”。</li></ul></li></ul><h3 id="函数参数的尾逗号" tabindex="-1"><a class="header-anchor" href="#函数参数的尾逗号" aria-hidden="true">#</a> 函数参数的尾逗号</h3><ul><li>允许函数的最后一个参数有尾逗号。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">clownsEverywhere</span><span class="token punctuation">(</span>
  <span class="token parameter">param1<span class="token punctuation">,</span>
  param2<span class="token punctuation">,</span></span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token function">clownsEverywhere</span><span class="token punctuation">(</span>
  <span class="token string">&#39;foo&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;bar&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="delete-操作符" tabindex="-1"><a class="header-anchor" href="#delete-操作符" aria-hidden="true">#</a> delete 操作符</h3><ul><li>delete expression <ul><li>断开引用来间接</li><li>所有情况都返回true，除非属性是一个自己不可配置的属性</li></ul></li></ul><div class="check" data-v-73689c06><input type="checkbox" id="objectdelete" data-v-73689c06><label for="objectdelete" data-v-73689c06></label></div> ```js delete object.property delete object[&#39;property&#39;] ``` :::tip 注意 - 如果删除的属性不存在，delete不会起作用，但仍会返回true - delete操作只会在自身的属性上起作用(不会删除原型链上的属性) - 删除一个数组元素时，数组的长度不受影响 ```js var trees = [&quot;redwood&quot;,&quot;bay&quot;,&quot;cedar&quot;,&quot;oak&quot;,&quot;maple&quot;]; delete trees[3]; if (3 in trees) { // 这里不会执行 } ``` ::: <h2 id="面试题" tabindex="-1"><a class="header-anchor" href="#面试题" aria-hidden="true">#</a> 面试题</h2><div class="check" data-v-73689c06><input type="checkbox" id="view1" data-v-73689c06><label for="view1" data-v-73689c06></label></div> ### 写一个能遍历对象和数组的`forEach`函数 <p>遍历数组使用<code>forEach</code>，而遍历对象使用<code>for in</code>，但是在实际开发中，可以使用一个函数就遍历两者，jquery 就有这样的函数</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> key
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 准确判断是不是数组</span>
        obj<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">fn</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> item<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 不是数组就是对象</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            							       		   <span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">fn</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token comment">// 注意，这里参数的顺序换了，为了和对象的遍历格式一致</span>
<span class="token function">forEach</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> item<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">}</span>
<span class="token function">forEach</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><div class="check" data-v-73689c06><input type="checkbox" id="view2" data-v-73689c06><label for="view2" data-v-73689c06></label></div> ### 实现一个深拷贝 ```js function deepCopy(obj){ //递归跳出去的条件，不加的话就相当于死循环 if(typeof obj!=&#39;object&#39;){ return obj; } var newObj; if(obj instanceof Array){ newObj=[]; }else{ newObj={}; } //将obj身上的所有属性复制到newObj身上 for(var attr in obj){ //自己调用自己 （递归） newObj[attr]=deepCopy(obj[attr]); } return newObj; }; ``` <div class="check" data-v-73689c06><input type="checkbox" id="view3" data-v-73689c06><label for="view3" data-v-73689c06></label></div><h3 id="settimeout设置为0有什么作用" tabindex="-1"><a class="header-anchor" href="#settimeout设置为0有什么作用" aria-hidden="true">#</a> setTimeout设置为0有什么作用？</h3><ul><li>设为0，实际上浏览器默认是4</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> fuc <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> fuc<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fuc<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fuc<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//1</span>
<span class="token comment">//2</span>
<span class="token comment">//3</span>
<span class="token comment">//3</span>
<span class="token comment">//3</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>虽然设置为0秒后执行任务，实际上是大于0秒才执行的。可是这有什么用呢？</p><p>用处就在于我们可以改变任务的执行顺序！因为浏览器会在执行完当前任务队列中的任务，再执行setTimeout队列中积累的的任务。</p><p>通过设置任务在延迟到0s后执行，就能改变任务执行的先后顺序，延迟该任务发生，使之异步执行。</p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><span class="meta-item-info">8/29/2021, 10:07:55 AM</span></div><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/assets/js/runtime~app.a80ffde9.js" defer></script><script src="/assets/js/1812.a4f6345c.js" defer></script><script src="/assets/js/app.aa6c2a7b.js" defer></script>
  </body>
</html>
